replicaCount: 1
name: auth-server

image:
  repository: registry.gitlab.com/gaia-x/data-infrastructure-federation-services/authenticationauthorization
  name: auth-service-image
  # -- Image tag
  # Uses .Chart.AppVersion if empty
  tag: "latest"
  # -- Image sha, usually generated by the CI
  # Uses image.tag if empty
  sha: ""
  # -- Image pull policy
  pullPolicy: IfNotPresent
  # -- Image pull secret when internal image is used
  # pullSecrets: key

podAnnotations: {}

# resources:
#   requests:
#     cpu:
#     memory:
#   limits:
#     cpu:
#     memory:

service:
  port: 9000
  type: ClusterIP

server:
  http:
    port: 9000

ingress:
  enabled: true
  annotations:
    kubernetes.io/ingress.class: nginx
    cert-manager.io/cluster-issuer: cert-manager-webhook
    nginx.ingress.kubernetes.io/ssl-redirect: "false"
    nginx.ingress.kubernetes.io/affinity: cookie
    nginx.ingress.kubernetes.io/session-cookie-expires: "172800"
    nginx.ingress.kubernetes.io/session-cookie-max-age: "172800"
  hosts:
    - host: auth-server.gxfs.dev
      paths:
        - path: /
          port: 9000
  tls:
   - secretName: wildcard-gxfs-dev
     hosts:
       - auth-server.gxfs.dev

config:
  aasCacheTtl: 3m
  aasTokenTtl: 3m
  aasIamBaseUri: https://key-server.gxfs.dev
  aasOidcIssuer: https://auth-server.gxfs.dev