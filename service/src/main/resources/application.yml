server:
  host: auth-server
  port: 8090
  servlet:
    session:
      timeout: 10m
  ssl:
    enabled: false

spring:
  application:
    name: auth-service
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: http://${server.host}:${server.port}
          jwk-set-uri: http://${server.host}:${server.port}/oauth2/jwks
  messages:
    encoding: ISO-8859-1
    
management:
  endpoints:
    web:
      exposure:
        include: "*"

springdoc:
  api-docs:
    path: /api/docs
    enabled: true

aas:
  iam:
    base-uri: http://key-server:8080
    client-registration-uri: /realms/gaia-x/clients-registrations/openid-connect
    client-iat: "{noop}iat"
    ttl: 10m
    clients:
      oidc:
        id: aas-app-oidc
        secret: "{noop}secret"
        redirect-uri: ${aas.iam.base-uri}/realms/gaia-x/broker/ssi-oidc/endpoint
      siop:
        id: aas-app-siop
        secret: "{noop}secret2"
        redirect-uri: ${aas.iam.base-uri}/realms/gaia-x/broker/ssi-siop/endpoint
  id-token:
    clock-skew: 5s 
    issuer: https://self-issued.me/v2
  scopes:
    openid:
      - sub
      - iss
      - auth_time
    profile:
      - name
      - given_name
      - family_name
      - middle_name
      - preferred_username
      - gender
      - birthdate
      - updated_at
    email:
      - email
      - email_verified
  tsa:
    url: http://trustservice/api
    repo: aisbl
    group: aisbl
    version: 1.0
    action: evaluate
    delay: 500 # in milliseconds
    duration: 5000 # in milliseconds
    request.count: 3
    statuses:
      GetLoginProofResult: ACCEPTED
      GetIatProofResult: ACCEPTED
    
logging:
  level:
    root: INFO
    org.springframework.web: DEBUG
    org.springframework.security: DEBUG
    org.springframework.web.client.RestTemplate: DEBUG
    eu.gaiax.difs.aas: DEBUG
    eu.gaiax.difs.aas.client: INFO
