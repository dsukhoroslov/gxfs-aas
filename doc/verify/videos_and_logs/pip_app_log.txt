"C:\Program Files\Java\jdk-17.0.3\bin\java.exe" -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true "-javaagent:C:\Users\ljurcisi\AppData\Local\JetBrains\IntelliJ IDEA 2022.1\lib\idea_rt.jar=59046:C:\Users\ljurcisi\AppData\Local\JetBrains\IntelliJ IDEA 2022.1\bin" -Dfile.encoding=windows-1250 -classpath C:\Users\ljurcisi\IdeaProjects\authenticationauthorization\app\target\classes;C:\Users\ljurcisi\.m2\repository\org\springframework\boot\spring-boot-starter\2.7.0\spring-boot-starter-2.7.0.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\boot\spring-boot\2.7.0\spring-boot-2.7.0.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\boot\spring-boot-autoconfigure\2.7.0\spring-boot-autoconfigure-2.7.0.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\boot\spring-boot-starter-logging\2.7.0\spring-boot-starter-logging-2.7.0.jar;C:\Users\ljurcisi\.m2\repository\ch\qos\logback\logback-classic\1.2.11\logback-classic-1.2.11.jar;C:\Users\ljurcisi\.m2\repository\ch\qos\logback\logback-core\1.2.11\logback-core-1.2.11.jar;C:\Users\ljurcisi\.m2\repository\org\apache\logging\log4j\log4j-to-slf4j\2.17.2\log4j-to-slf4j-2.17.2.jar;C:\Users\ljurcisi\.m2\repository\org\apache\logging\log4j\log4j-api\2.17.2\log4j-api-2.17.2.jar;C:\Users\ljurcisi\.m2\repository\org\slf4j\jul-to-slf4j\1.7.36\jul-to-slf4j-1.7.36.jar;C:\Users\ljurcisi\.m2\repository\jakarta\annotation\jakarta.annotation-api\1.3.5\jakarta.annotation-api-1.3.5.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\spring-core\5.3.20\spring-core-5.3.20.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\spring-jcl\5.3.20\spring-jcl-5.3.20.jar;C:\Users\ljurcisi\.m2\repository\org\yaml\snakeyaml\1.30\snakeyaml-1.30.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\boot\spring-boot-starter-security\2.7.0\spring-boot-starter-security-2.7.0.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\spring-aop\5.3.20\spring-aop-5.3.20.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\security\spring-security-config\5.7.1\spring-security-config-5.7.1.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\boot\spring-boot-starter-oauth2-client\2.7.0\spring-boot-starter-oauth2-client-2.7.0.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\security\spring-security-core\5.7.1\spring-security-core-5.7.1.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\security\spring-security-crypto\5.7.1\spring-security-crypto-5.7.1.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\security\spring-security-oauth2-client\5.7.1\spring-security-oauth2-client-5.7.1.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\security\spring-security-oauth2-core\5.7.1\spring-security-oauth2-core-5.7.1.jar;C:\Users\ljurcisi\.m2\repository\com\nimbusds\oauth2-oidc-sdk\9.35\oauth2-oidc-sdk-9.35.jar;C:\Users\ljurcisi\.m2\repository\com\github\stephenc\jcip\jcip-annotations\1.0-1\jcip-annotations-1.0-1.jar;C:\Users\ljurcisi\.m2\repository\com\nimbusds\content-type\2.2\content-type-2.2.jar;C:\Users\ljurcisi\.m2\repository\com\nimbusds\lang-tag\1.6\lang-tag-1.6.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\security\spring-security-oauth2-jose\5.7.1\spring-security-oauth2-jose-5.7.1.jar;C:\Users\ljurcisi\.m2\repository\com\nimbusds\nimbus-jose-jwt\9.22\nimbus-jose-jwt-9.22.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\boot\spring-boot-starter-tomcat\2.7.0\spring-boot-starter-tomcat-2.7.0.jar;C:\Users\ljurcisi\.m2\repository\org\apache\tomcat\embed\tomcat-embed-core\9.0.63\tomcat-embed-core-9.0.63.jar;C:\Users\ljurcisi\.m2\repository\org\apache\tomcat\embed\tomcat-embed-el\9.0.63\tomcat-embed-el-9.0.63.jar;C:\Users\ljurcisi\.m2\repository\org\apache\tomcat\embed\tomcat-embed-websocket\9.0.63\tomcat-embed-websocket-9.0.63.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\boot\spring-boot-starter-web\2.7.0\spring-boot-starter-web-2.7.0.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\boot\spring-boot-starter-json\2.7.0\spring-boot-starter-json-2.7.0.jar;C:\Users\ljurcisi\.m2\repository\com\fasterxml\jackson\core\jackson-databind\2.13.3\jackson-databind-2.13.3.jar;C:\Users\ljurcisi\.m2\repository\com\fasterxml\jackson\core\jackson-annotations\2.13.3\jackson-annotations-2.13.3.jar;C:\Users\ljurcisi\.m2\repository\com\fasterxml\jackson\core\jackson-core\2.13.3\jackson-core-2.13.3.jar;C:\Users\ljurcisi\.m2\repository\com\fasterxml\jackson\datatype\jackson-datatype-jdk8\2.13.3\jackson-datatype-jdk8-2.13.3.jar;C:\Users\ljurcisi\.m2\repository\com\fasterxml\jackson\datatype\jackson-datatype-jsr310\2.13.3\jackson-datatype-jsr310-2.13.3.jar;C:\Users\ljurcisi\.m2\repository\com\fasterxml\jackson\module\jackson-module-parameter-names\2.13.3\jackson-module-parameter-names-2.13.3.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\spring-web\5.3.20\spring-web-5.3.20.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\spring-webmvc\5.3.20\spring-webmvc-5.3.20.jar;C:\Users\ljurcisi\.m2\repository\net\minidev\json-smart\2.4.8\json-smart-2.4.8.jar;C:\Users\ljurcisi\.m2\repository\net\minidev\accessors-smart\2.4.8\accessors-smart-2.4.8.jar;C:\Users\ljurcisi\.m2\repository\org\ow2\asm\asm\9.1\asm-9.1.jar;C:\Users\ljurcisi\.m2\repository\org\slf4j\slf4j-api\1.7.36\slf4j-api-1.7.36.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\security\spring-security-web\5.7.2\spring-security-web-5.7.2.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\spring-beans\5.3.20\spring-beans-5.3.20.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\spring-context\5.3.20\spring-context-5.3.20.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\spring-expression\5.3.20\spring-expression-5.3.20.jar;C:\Users\ljurcisi\.m2\repository\org\projectlombok\lombok\1.18.22\lombok-1.18.22.jar eu.gaiax.difs.aas.AuthDemoApplication
Java HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.0)

2022-07-26 15:07:35.281  INFO 14816 --- [main] eu.gaiax.difs.aas.AuthDemoApplication    : Starting AuthDemoApplication using Java 17.0.3 on TSSKKEWKS4716 with PID 14816 (C:\Users\ljurcisi\IdeaProjects\authenticationauthorization\app\target\classes started by ljurcisi in C:\Users\ljurcisi\IdeaProjects\authenticationauthorization)
2022-07-26 15:07:35.283 DEBUG 14816 --- [main] eu.gaiax.difs.aas.AuthDemoApplication    : Running with Spring Boot v2.7.0, Spring v5.3.20
2022-07-26 15:07:35.283  INFO 14816 --- [main] eu.gaiax.difs.aas.AuthDemoApplication    : The following 1 profile is active: "default"
2022-07-26 15:07:35.852  INFO 14816 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8990 (http)
2022-07-26 15:07:35.857  INFO 14816 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-07-26 15:07:35.857  INFO 14816 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2022-07-26 15:07:35.946  INFO 14816 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-07-26 15:07:35.946  INFO 14816 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 634 ms
2022-07-26 15:07:36.060 DEBUG 14816 --- [main] o.s.web.client.RestTemplate              : HTTP GET https://key-server.gxfs.dev/realms/gaia-x/.well-known/openid-configuration
2022-07-26 15:07:36.068 DEBUG 14816 --- [main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2022-07-26 15:07:36.312 DEBUG 14816 --- [main] o.s.web.client.RestTemplate              : Response 200 OK
2022-07-26 15:07:36.313 DEBUG 14816 --- [main] o.s.web.client.RestTemplate              : Reading to [java.util.Map<java.lang.String, java.lang.Object>]
2022-07-26 15:07:36.398 DEBUG 14816 --- [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2022-07-26 15:07:36.470 DEBUG 14816 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/demo']
2022-07-26 15:07:36.474 DEBUG 14816 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('SCOPE_profile')] for Ant [pattern='/demo/read']
2022-07-26 15:07:36.475 DEBUG 14816 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('SCOPE_email')] for Ant [pattern='/demo/write']
2022-07-26 15:07:36.475 DEBUG 14816 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for any request
2022-07-26 15:07:36.481  INFO 14816 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59fc6d05, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78307a56, org.springframework.security.web.context.SecurityContextPersistenceFilter@29896529, org.springframework.security.web.header.HeaderWriterFilter@606a1bc4, org.springframework.security.web.csrf.CsrfFilter@6b649efa, org.springframework.security.web.authentication.logout.LogoutFilter@61bb1e4d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@49433c98, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3bfae028, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@b5c6a30, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41b64020, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a538ed8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40d52be7, org.springframework.security.oauth2.client.web.OAuth2AuthorizationCodeGrantFilter@43f03c23, org.springframework.security.web.session.SessionManagementFilter@44dc7b7d, org.springframework.security.web.access.ExceptionTranslationFilter@4b8137c5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@679dd234]
2022-07-26 15:07:36.615 DEBUG 14816 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2022-07-26 15:07:36.662  INFO 14816 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8990 (http) with context path ''
2022-07-26 15:07:36.668  INFO 14816 --- [main] eu.gaiax.difs.aas.AuthDemoApplication    : Started AuthDemoApplication in 1.736 seconds (JVM running for 2.234)
2022-07-26 15:07:44.616  INFO 14816 --- [http-nio-8990-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-26 15:07:44.616  INFO 14816 --- [http-nio-8990-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-07-26 15:07:44.616 DEBUG 14816 --- [http-nio-8990-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2022-07-26 15:07:44.617 DEBUG 14816 --- [http-nio-8990-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2022-07-26 15:07:44.617 DEBUG 14816 --- [http-nio-8990-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2022-07-26 15:07:44.617 DEBUG 14816 --- [http-nio-8990-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@56c36378
2022-07-26 15:07:44.618 DEBUG 14816 --- [http-nio-8990-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@573d13ed
2022-07-26 15:07:44.618 DEBUG 14816 --- [http-nio-8990-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2022-07-26 15:07:44.618  INFO 14816 --- [http-nio-8990-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2022-07-26 15:07:44.625 DEBUG 14816 --- [http-nio-8990-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /demo
2022-07-26 15:07:44.628 DEBUG 14816 --- [http-nio-8990-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-26 15:07:44.631 DEBUG 14816 --- [http-nio-8990-exec-1] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@4691908f
2022-07-26 15:07:44.632 DEBUG 14816 --- [http-nio-8990-exec-1] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-26 15:07:44.634 DEBUG 14816 --- [http-nio-8990-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2022-07-26 15:07:44.643 DEBUG 14816 --- [http-nio-8990-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /demo] with attributes [authenticated]
2022-07-26 15:07:44.665 DEBUG 14816 --- [http-nio-8990-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://test-server:8990/demo to session
2022-07-26 15:07:44.666 DEBUG 14816 --- [http-nio-8990-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://test-server:8990/oauth2/authorization/demo-app-oidc
2022-07-26 15:07:44.666 DEBUG 14816 --- [http-nio-8990-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-26 15:07:44.667 DEBUG 14816 --- [http-nio-8990-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-26 15:07:44.667 DEBUG 14816 --- [http-nio-8990-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-26 15:07:44.675 DEBUG 14816 --- [http-nio-8990-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/demo-app-oidc
2022-07-26 15:07:44.675 DEBUG 14816 --- [http-nio-8990-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-26 15:07:44.675 DEBUG 14816 --- [http-nio-8990-exec-2] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@2862ad35
2022-07-26 15:07:44.679 DEBUG 14816 --- [http-nio-8990-exec-2] d.a.c.CustomAuthorizationRequestResolver : resolve1; scopes: [openid]
2022-07-26 15:07:44.679 DEBUG 14816 --- [http-nio-8990-exec-2] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest@3d3b69d7
2022-07-26 15:07:44.679 DEBUG 14816 --- [http-nio-8990-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/auth?response_type=code&client_id=demo-app&scope=openid&state=jsAWQBtemtBXwfoS_iW6qmFhMHNuqjT4qqtNR_u04qw%3D&redirect_uri=http://test-server:8990/login/oauth2/code/demo-app-oidc&nonce=keMrdBjCgH-d6aKlKceaZl7geV09WJrpGN4yIXhwzWQ
2022-07-26 15:07:44.679 DEBUG 14816 --- [http-nio-8990-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-26 15:07:44.679 DEBUG 14816 --- [http-nio-8990-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-26 15:07:44.680 DEBUG 14816 --- [http-nio-8990-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-26 15:08:07.092 DEBUG 14816 --- [http-nio-8990-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/demo-app-oidc?state=jsAWQBtemtBXwfoS_iW6qmFhMHNuqjT4qqtNR_u04qw%3D&session_state=4ec38aa0-90a6-46ed-87ed-f83b9c700345&code=08539fd6-9080-4141-80b3-4389ceffca95.4ec38aa0-90a6-46ed-87ed-f83b9c700345.52c9c697-c860-4edd-bde4-5e03904fdb44
2022-07-26 15:08:07.093 DEBUG 14816 --- [http-nio-8990-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-26 15:08:07.093 DEBUG 14816 --- [http-nio-8990-exec-3] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@4059c19c
2022-07-26 15:08:07.093 DEBUG 14816 --- [http-nio-8990-exec-3] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-26 15:08:07.095 DEBUG 14816 --- [http-nio-8990-exec-3] o.s.web.client.RestTemplate              : HTTP POST https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/token
2022-07-26 15:08:07.095 DEBUG 14816 --- [http-nio-8990-exec-3] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2022-07-26 15:08:07.096 DEBUG 14816 --- [http-nio-8990-exec-3] o.s.web.client.RestTemplate              : Writing [{grant_type=[authorization_code], code=[08539fd6-9080-4141-80b3-4389ceffca95.4ec38aa0-90a6-46ed-87ed-f83b9c700345.52c9c697-c860-4edd-bde4-5e03904fdb44], redirect_uri=[http://test-server:8990/login/oauth2/code/demo-app-oidc]}] as "application/x-www-form-urlencoded;charset=UTF-8"
2022-07-26 15:08:07.278 DEBUG 14816 --- [http-nio-8990-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2022-07-26 15:08:07.278 DEBUG 14816 --- [http-nio-8990-exec-3] o.s.web.client.RestTemplate              : Reading to [org.springframework.security.oauth2.core.endpoint.OAuth2AccessTokenResponse] as "application/json"
2022-07-26 15:08:07.307 DEBUG 14816 --- [http-nio-8990-exec-3] o.s.web.client.RestTemplate              : HTTP GET https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/certs
2022-07-26 15:08:07.308 DEBUG 14816 --- [http-nio-8990-exec-3] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2022-07-26 15:08:07.361 DEBUG 14816 --- [http-nio-8990-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2022-07-26 15:08:07.361 DEBUG 14816 --- [http-nio-8990-exec-3] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2022-07-26 15:08:07.369 DEBUG 14816 --- [http-nio-8990-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D65AED697DF3C741CBE859B9496A79E7
2022-07-26 15:08:07.370 DEBUG 14816 --- [http-nio-8990-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [a5bc593d-95b3-4a2f-ab8e-418130b8d710], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=9hamYbF5PwgWoNiLQFaEnQ, sub=a5bc593d-95b3-4a2f-ab8e-418130b8d710, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=keMrdBjCgH-d6aKlKceaZl7geV09WJrpGN4yIXhwzWQ, sid=4ec38aa0-90a6-46ed-87ed-f83b9c700345, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-26T13:08:07Z, exp=2022-07-26T13:13:07Z, session_state=4ec38aa0-90a6-46ed-87ed-f83b9c700345, iat=2022-07-26T13:08:07Z, jti=c13a20e7-395d-44f7-b204-e46cfcd4f339}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=D65AED697DF3C741CBE859B9496A79E7], Granted Authorities=[ROLE_USER, SCOPE_openid]]
2022-07-26 15:08:07.370 DEBUG 14816 --- [http-nio-8990-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://test-server:8990/demo
2022-07-26 15:08:07.370 DEBUG 14816 --- [http-nio-8990-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [a5bc593d-95b3-4a2f-ab8e-418130b8d710], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=9hamYbF5PwgWoNiLQFaEnQ, sub=a5bc593d-95b3-4a2f-ab8e-418130b8d710, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=keMrdBjCgH-d6aKlKceaZl7geV09WJrpGN4yIXhwzWQ, sid=4ec38aa0-90a6-46ed-87ed-f83b9c700345, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-26T13:08:07Z, exp=2022-07-26T13:13:07Z, session_state=4ec38aa0-90a6-46ed-87ed-f83b9c700345, iat=2022-07-26T13:08:07Z, jti=c13a20e7-395d-44f7-b204-e46cfcd4f339}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=D65AED697DF3C741CBE859B9496A79E7], Granted Authorities=[ROLE_USER, SCOPE_openid]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@edffbbf]
2022-07-26 15:08:07.371 DEBUG 14816 --- [http-nio-8990-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [a5bc593d-95b3-4a2f-ab8e-418130b8d710], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=9hamYbF5PwgWoNiLQFaEnQ, sub=a5bc593d-95b3-4a2f-ab8e-418130b8d710, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=keMrdBjCgH-d6aKlKceaZl7geV09WJrpGN4yIXhwzWQ, sid=4ec38aa0-90a6-46ed-87ed-f83b9c700345, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-26T13:08:07Z, exp=2022-07-26T13:13:07Z, session_state=4ec38aa0-90a6-46ed-87ed-f83b9c700345, iat=2022-07-26T13:08:07Z, jti=c13a20e7-395d-44f7-b204-e46cfcd4f339}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=D65AED697DF3C741CBE859B9496A79E7], Granted Authorities=[ROLE_USER, SCOPE_openid]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@edffbbf]
2022-07-26 15:08:07.371 DEBUG 14816 --- [http-nio-8990-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-26 15:08:07.379 DEBUG 14816 --- [http-nio-8990-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /demo
2022-07-26 15:08:07.379 DEBUG 14816 --- [http-nio-8990-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [a5bc593d-95b3-4a2f-ab8e-418130b8d710], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=9hamYbF5PwgWoNiLQFaEnQ, sub=a5bc593d-95b3-4a2f-ab8e-418130b8d710, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=keMrdBjCgH-d6aKlKceaZl7geV09WJrpGN4yIXhwzWQ, sid=4ec38aa0-90a6-46ed-87ed-f83b9c700345, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-26T13:08:07Z, exp=2022-07-26T13:13:07Z, session_state=4ec38aa0-90a6-46ed-87ed-f83b9c700345, iat=2022-07-26T13:08:07Z, jti=c13a20e7-395d-44f7-b204-e46cfcd4f339}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=D65AED697DF3C741CBE859B9496A79E7], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-26 15:08:07.379 DEBUG 14816 --- [http-nio-8990-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [a5bc593d-95b3-4a2f-ab8e-418130b8d710], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=9hamYbF5PwgWoNiLQFaEnQ, sub=a5bc593d-95b3-4a2f-ab8e-418130b8d710, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=keMrdBjCgH-d6aKlKceaZl7geV09WJrpGN4yIXhwzWQ, sid=4ec38aa0-90a6-46ed-87ed-f83b9c700345, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-26T13:08:07Z, exp=2022-07-26T13:13:07Z, session_state=4ec38aa0-90a6-46ed-87ed-f83b9c700345, iat=2022-07-26T13:08:07Z, jti=c13a20e7-395d-44f7-b204-e46cfcd4f339}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=D65AED697DF3C741CBE859B9496A79E7], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-26 15:08:07.379 DEBUG 14816 --- [http-nio-8990-exec-4] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@65cb97e2
2022-07-26 15:08:07.379 DEBUG 14816 --- [http-nio-8990-exec-4] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-26 15:08:07.379 DEBUG 14816 --- [http-nio-8990-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://test-server:8990/demo
2022-07-26 15:08:07.380 DEBUG 14816 --- [http-nio-8990-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /demo] with attributes [authenticated]
2022-07-26 15:08:07.380 DEBUG 14816 --- [http-nio-8990-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /demo
2022-07-26 15:08:07.381 DEBUG 14816 --- [http-nio-8990-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/demo", parameters={}
2022-07-26 15:08:07.390 DEBUG 14816 --- [http-nio-8990-exec-4] d.a.c.CustomAuthorizationRequestResolver : setScopes; scopes: [openid]
2022-07-26 15:08:07.398 DEBUG 14816 --- [http-nio-8990-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2022-07-26 15:08:07.399 DEBUG 14816 --- [http-nio-8990-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-26 15:08:15.775 DEBUG 14816 --- [http-nio-8990-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /demo/read
2022-07-26 15:08:15.775 DEBUG 14816 --- [http-nio-8990-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [a5bc593d-95b3-4a2f-ab8e-418130b8d710], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=9hamYbF5PwgWoNiLQFaEnQ, sub=a5bc593d-95b3-4a2f-ab8e-418130b8d710, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=keMrdBjCgH-d6aKlKceaZl7geV09WJrpGN4yIXhwzWQ, sid=4ec38aa0-90a6-46ed-87ed-f83b9c700345, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-26T13:08:07Z, exp=2022-07-26T13:13:07Z, session_state=4ec38aa0-90a6-46ed-87ed-f83b9c700345, iat=2022-07-26T13:08:07Z, jti=c13a20e7-395d-44f7-b204-e46cfcd4f339}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=D65AED697DF3C741CBE859B9496A79E7], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-26 15:08:15.776 DEBUG 14816 --- [http-nio-8990-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [a5bc593d-95b3-4a2f-ab8e-418130b8d710], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=9hamYbF5PwgWoNiLQFaEnQ, sub=a5bc593d-95b3-4a2f-ab8e-418130b8d710, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=keMrdBjCgH-d6aKlKceaZl7geV09WJrpGN4yIXhwzWQ, sid=4ec38aa0-90a6-46ed-87ed-f83b9c700345, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-26T13:08:07Z, exp=2022-07-26T13:13:07Z, session_state=4ec38aa0-90a6-46ed-87ed-f83b9c700345, iat=2022-07-26T13:08:07Z, jti=c13a20e7-395d-44f7-b204-e46cfcd4f339}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=D65AED697DF3C741CBE859B9496A79E7], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-26 15:08:15.776 DEBUG 14816 --- [http-nio-8990-exec-5] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@6fe7aff9
2022-07-26 15:08:15.776 DEBUG 14816 --- [http-nio-8990-exec-5] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-26 15:08:15.779 DEBUG 14816 --- [http-nio-8990-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /demo/read] with attributes [hasAuthority('SCOPE_profile')]
2022-07-26 15:08:15.779 DEBUG 14816 --- [http-nio-8990-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-26 15:08:15.785 DEBUG 14816 --- [http-nio-8990-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /logout?redirect_url=http://test-server:8990/demo/read
2022-07-26 15:08:15.785 DEBUG 14816 --- [http-nio-8990-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [a5bc593d-95b3-4a2f-ab8e-418130b8d710], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=9hamYbF5PwgWoNiLQFaEnQ, sub=a5bc593d-95b3-4a2f-ab8e-418130b8d710, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=keMrdBjCgH-d6aKlKceaZl7geV09WJrpGN4yIXhwzWQ, sid=4ec38aa0-90a6-46ed-87ed-f83b9c700345, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-26T13:08:07Z, exp=2022-07-26T13:13:07Z, session_state=4ec38aa0-90a6-46ed-87ed-f83b9c700345, iat=2022-07-26T13:08:07Z, jti=c13a20e7-395d-44f7-b204-e46cfcd4f339}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=D65AED697DF3C741CBE859B9496A79E7], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-26 15:08:15.785 DEBUG 14816 --- [http-nio-8990-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [a5bc593d-95b3-4a2f-ab8e-418130b8d710], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=9hamYbF5PwgWoNiLQFaEnQ, sub=a5bc593d-95b3-4a2f-ab8e-418130b8d710, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=keMrdBjCgH-d6aKlKceaZl7geV09WJrpGN4yIXhwzWQ, sid=4ec38aa0-90a6-46ed-87ed-f83b9c700345, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-26T13:08:07Z, exp=2022-07-26T13:13:07Z, session_state=4ec38aa0-90a6-46ed-87ed-f83b9c700345, iat=2022-07-26T13:08:07Z, jti=c13a20e7-395d-44f7-b204-e46cfcd4f339}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=D65AED697DF3C741CBE859B9496A79E7], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-26 15:08:15.785 DEBUG 14816 --- [http-nio-8990-exec-6] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@4a201bf0
2022-07-26 15:08:15.785 DEBUG 14816 --- [http-nio-8990-exec-6] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-26 15:08:15.786 DEBUG 14816 --- [http-nio-8990-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /logout?redirect_url=http://test-server:8990/demo/read] with attributes [permitAll]
2022-07-26 15:08:15.786 DEBUG 14816 --- [http-nio-8990-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /logout?redirect_url=http://test-server:8990/demo/read
2022-07-26 15:08:15.786 DEBUG 14816 --- [http-nio-8990-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/logout?redirect_url=http://test-server:8990/demo/read", parameters={masked}
2022-07-26 15:08:15.787 DEBUG 14816 --- [http-nio-8990-exec-6] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session 93719258F8A44F2D66AF747D35BB1116
2022-07-26 15:08:15.787 DEBUG 14816 --- [http-nio-8990-exec-6] d.a.c.CustomAuthorizationRequestResolver : setScopes; scopes: [openid, profile]
2022-07-26 15:08:15.787 DEBUG 14816 --- [http-nio-8990-exec-6] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-26 15:08:15.787 DEBUG 14816 --- [http-nio-8990-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2022-07-26 15:08:15.787 DEBUG 14816 --- [http-nio-8990-exec-6] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-26 15:08:15.787 DEBUG 14816 --- [http-nio-8990-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-26 15:08:15.870 DEBUG 14816 --- [http-nio-8990-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /demo/read
2022-07-26 15:08:15.870 DEBUG 14816 --- [http-nio-8990-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-26 15:08:15.870 DEBUG 14816 --- [http-nio-8990-exec-8] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@32dfbd25
2022-07-26 15:08:15.870 DEBUG 14816 --- [http-nio-8990-exec-8] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-26 15:08:15.870 DEBUG 14816 --- [http-nio-8990-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2022-07-26 15:08:15.871 DEBUG 14816 --- [http-nio-8990-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /demo/read] with attributes [hasAuthority('SCOPE_profile')]
2022-07-26 15:08:15.871 DEBUG 14816 --- [http-nio-8990-exec-8] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://test-server:8990/demo/read to session
2022-07-26 15:08:15.871 DEBUG 14816 --- [http-nio-8990-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://test-server:8990/oauth2/authorization/demo-app-oidc
2022-07-26 15:08:15.871 DEBUG 14816 --- [http-nio-8990-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-26 15:08:15.872 DEBUG 14816 --- [http-nio-8990-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-26 15:08:15.872 DEBUG 14816 --- [http-nio-8990-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-26 15:08:15.877 DEBUG 14816 --- [http-nio-8990-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/demo-app-oidc
2022-07-26 15:08:15.877 DEBUG 14816 --- [http-nio-8990-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-26 15:08:15.878 DEBUG 14816 --- [http-nio-8990-exec-7] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@3e2e86b4
2022-07-26 15:08:15.880 DEBUG 14816 --- [http-nio-8990-exec-7] d.a.c.CustomAuthorizationRequestResolver : resolve1; scopes: [openid, profile]
2022-07-26 15:08:15.880 DEBUG 14816 --- [http-nio-8990-exec-7] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest@30e96f01
2022-07-26 15:08:15.880 DEBUG 14816 --- [http-nio-8990-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/auth?response_type=code&client_id=demo-app&scope=openid%20profile&state=wtbc1y-JpbVutYQFmiIDw2X5AI6ofTH9vYof2x8QL1s%3D&redirect_uri=http://test-server:8990/login/oauth2/code/demo-app-oidc&nonce=GpI7UiPZNQt0HYpjzwbjNgXURHyFELAjYLqCMpLKdtc
2022-07-26 15:08:15.880 DEBUG 14816 --- [http-nio-8990-exec-7] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-26 15:08:15.880 DEBUG 14816 --- [http-nio-8990-exec-7] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-26 15:08:15.880 DEBUG 14816 --- [http-nio-8990-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-26 15:08:19.475 DEBUG 14816 --- [http-nio-8990-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/demo-app-oidc?state=wtbc1y-JpbVutYQFmiIDw2X5AI6ofTH9vYof2x8QL1s%3D&session_state=ffa64766-9e41-4f47-b811-073c458201e8&code=70b014ce-5e5a-428d-9997-bd0c3c362bad.ffa64766-9e41-4f47-b811-073c458201e8.52c9c697-c860-4edd-bde4-5e03904fdb44
2022-07-26 15:08:19.475 DEBUG 14816 --- [http-nio-8990-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-26 15:08:19.476 DEBUG 14816 --- [http-nio-8990-exec-9] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@7dffd5c6
2022-07-26 15:08:19.476 DEBUG 14816 --- [http-nio-8990-exec-9] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-26 15:08:19.477 DEBUG 14816 --- [http-nio-8990-exec-9] o.s.web.client.RestTemplate              : HTTP POST https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/token
2022-07-26 15:08:19.477 DEBUG 14816 --- [http-nio-8990-exec-9] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2022-07-26 15:08:19.477 DEBUG 14816 --- [http-nio-8990-exec-9] o.s.web.client.RestTemplate              : Writing [{grant_type=[authorization_code], code=[70b014ce-5e5a-428d-9997-bd0c3c362bad.ffa64766-9e41-4f47-b811-073c458201e8.52c9c697-c860-4edd-bde4-5e03904fdb44], redirect_uri=[http://test-server:8990/login/oauth2/code/demo-app-oidc]}] as "application/x-www-form-urlencoded;charset=UTF-8"
2022-07-26 15:08:19.647 DEBUG 14816 --- [http-nio-8990-exec-9] o.s.web.client.RestTemplate              : Response 200 OK
2022-07-26 15:08:19.647 DEBUG 14816 --- [http-nio-8990-exec-9] o.s.web.client.RestTemplate              : Reading to [org.springframework.security.oauth2.core.endpoint.OAuth2AccessTokenResponse] as "application/json"
2022-07-26 15:08:19.649 DEBUG 14816 --- [http-nio-8990-exec-9] o.s.web.client.RestTemplate              : HTTP GET https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/userinfo
2022-07-26 15:08:19.650 DEBUG 14816 --- [http-nio-8990-exec-9] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2022-07-26 15:08:19.705 DEBUG 14816 --- [http-nio-8990-exec-9] o.s.web.client.RestTemplate              : Response 200 OK
2022-07-26 15:08:19.705 DEBUG 14816 --- [http-nio-8990-exec-9] o.s.web.client.RestTemplate              : Reading to [java.util.Map<java.lang.String, java.lang.Object>]
2022-07-26 15:08:19.706 DEBUG 14816 --- [http-nio-8990-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C86209CD7D7C2B5F0F80EAE1449EDC5A
2022-07-26 15:08:19.707 DEBUG 14816 --- [http-nio-8990-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [a5bc593d-95b3-4a2f-ab8e-418130b8d710], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=OGj7hn_4E3OReUgov3q0qA, sub=a5bc593d-95b3-4a2f-ab8e-418130b8d710, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=22dc339c-55f9-4cd1-90ba-9ae391cb7e31 1658840886676, given_name=22dc339c-55f9-4cd1-90ba-9ae391cb7e31, nonce=GpI7UiPZNQt0HYpjzwbjNgXURHyFELAjYLqCMpLKdtc, sid=ffa64766-9e41-4f47-b811-073c458201e8, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-26T13:08:19Z, name=22dc339c-55f9-4cd1-90ba-9ae391cb7e31 1658840886676, exp=2022-07-26T13:13:19Z, session_state=ffa64766-9e41-4f47-b811-073c458201e8, family_name=1658840886676, iat=2022-07-26T13:08:19Z, jti=8e1f8191-d04f-438d-994a-f7a1fe5cd27a}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=C86209CD7D7C2B5F0F80EAE1449EDC5A], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]
2022-07-26 15:08:19.707 DEBUG 14816 --- [http-nio-8990-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://test-server:8990/demo/read
2022-07-26 15:08:19.707 DEBUG 14816 --- [http-nio-8990-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [a5bc593d-95b3-4a2f-ab8e-418130b8d710], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=OGj7hn_4E3OReUgov3q0qA, sub=a5bc593d-95b3-4a2f-ab8e-418130b8d710, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=22dc339c-55f9-4cd1-90ba-9ae391cb7e31 1658840886676, given_name=22dc339c-55f9-4cd1-90ba-9ae391cb7e31, nonce=GpI7UiPZNQt0HYpjzwbjNgXURHyFELAjYLqCMpLKdtc, sid=ffa64766-9e41-4f47-b811-073c458201e8, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-26T13:08:19Z, name=22dc339c-55f9-4cd1-90ba-9ae391cb7e31 1658840886676, exp=2022-07-26T13:13:19Z, session_state=ffa64766-9e41-4f47-b811-073c458201e8, family_name=1658840886676, iat=2022-07-26T13:08:19Z, jti=8e1f8191-d04f-438d-994a-f7a1fe5cd27a}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=C86209CD7D7C2B5F0F80EAE1449EDC5A], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3fdfe0e]
2022-07-26 15:08:19.708 DEBUG 14816 --- [http-nio-8990-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [a5bc593d-95b3-4a2f-ab8e-418130b8d710], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=OGj7hn_4E3OReUgov3q0qA, sub=a5bc593d-95b3-4a2f-ab8e-418130b8d710, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=22dc339c-55f9-4cd1-90ba-9ae391cb7e31 1658840886676, given_name=22dc339c-55f9-4cd1-90ba-9ae391cb7e31, nonce=GpI7UiPZNQt0HYpjzwbjNgXURHyFELAjYLqCMpLKdtc, sid=ffa64766-9e41-4f47-b811-073c458201e8, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-26T13:08:19Z, name=22dc339c-55f9-4cd1-90ba-9ae391cb7e31 1658840886676, exp=2022-07-26T13:13:19Z, session_state=ffa64766-9e41-4f47-b811-073c458201e8, family_name=1658840886676, iat=2022-07-26T13:08:19Z, jti=8e1f8191-d04f-438d-994a-f7a1fe5cd27a}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=C86209CD7D7C2B5F0F80EAE1449EDC5A], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3fdfe0e]
2022-07-26 15:08:19.708 DEBUG 14816 --- [http-nio-8990-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-26 15:08:19.718 DEBUG 14816 --- [http-nio-8990-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /demo/read
2022-07-26 15:08:19.718 DEBUG 14816 --- [http-nio-8990-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [a5bc593d-95b3-4a2f-ab8e-418130b8d710], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=OGj7hn_4E3OReUgov3q0qA, sub=a5bc593d-95b3-4a2f-ab8e-418130b8d710, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=22dc339c-55f9-4cd1-90ba-9ae391cb7e31 1658840886676, given_name=22dc339c-55f9-4cd1-90ba-9ae391cb7e31, nonce=GpI7UiPZNQt0HYpjzwbjNgXURHyFELAjYLqCMpLKdtc, sid=ffa64766-9e41-4f47-b811-073c458201e8, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-26T13:08:19Z, name=22dc339c-55f9-4cd1-90ba-9ae391cb7e31 1658840886676, exp=2022-07-26T13:13:19Z, session_state=ffa64766-9e41-4f47-b811-073c458201e8, family_name=1658840886676, iat=2022-07-26T13:08:19Z, jti=8e1f8191-d04f-438d-994a-f7a1fe5cd27a}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=C86209CD7D7C2B5F0F80EAE1449EDC5A], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]]
2022-07-26 15:08:19.718 DEBUG 14816 --- [http-nio-8990-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [a5bc593d-95b3-4a2f-ab8e-418130b8d710], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=OGj7hn_4E3OReUgov3q0qA, sub=a5bc593d-95b3-4a2f-ab8e-418130b8d710, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=22dc339c-55f9-4cd1-90ba-9ae391cb7e31 1658840886676, given_name=22dc339c-55f9-4cd1-90ba-9ae391cb7e31, nonce=GpI7UiPZNQt0HYpjzwbjNgXURHyFELAjYLqCMpLKdtc, sid=ffa64766-9e41-4f47-b811-073c458201e8, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-26T13:08:19Z, name=22dc339c-55f9-4cd1-90ba-9ae391cb7e31 1658840886676, exp=2022-07-26T13:13:19Z, session_state=ffa64766-9e41-4f47-b811-073c458201e8, family_name=1658840886676, iat=2022-07-26T13:08:19Z, jti=8e1f8191-d04f-438d-994a-f7a1fe5cd27a}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=C86209CD7D7C2B5F0F80EAE1449EDC5A], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]]
2022-07-26 15:08:19.718 DEBUG 14816 --- [http-nio-8990-exec-10] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@37edd213
2022-07-26 15:08:19.718 DEBUG 14816 --- [http-nio-8990-exec-10] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-26 15:08:19.719 DEBUG 14816 --- [http-nio-8990-exec-10] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://test-server:8990/demo/read
2022-07-26 15:08:19.719 DEBUG 14816 --- [http-nio-8990-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /demo/read] with attributes [hasAuthority('SCOPE_profile')]
2022-07-26 15:08:19.719 DEBUG 14816 --- [http-nio-8990-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /demo/read
2022-07-26 15:08:19.719 DEBUG 14816 --- [http-nio-8990-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/demo/read", parameters={}
2022-07-26 15:08:19.720 DEBUG 14816 --- [http-nio-8990-exec-10] d.a.c.CustomAuthorizationRequestResolver : setScopes; scopes: [openid]
2022-07-26 15:08:19.721 DEBUG 14816 --- [http-nio-8990-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2022-07-26 15:08:19.721 DEBUG 14816 --- [http-nio-8990-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
