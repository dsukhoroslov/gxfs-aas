"C:\Program Files\Java\jdk-17.0.3\bin\java.exe" -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true "-javaagent:C:\Users\ljurcisi\AppData\Local\JetBrains\IntelliJ IDEA 2022.1\lib\idea_rt.jar=52985:C:\Users\ljurcisi\AppData\Local\JetBrains\IntelliJ IDEA 2022.1\bin" -Dfile.encoding=windows-1250 -classpath C:\Users\ljurcisi\IdeaProjects\authenticationauthorization\app\target\classes;C:\Users\ljurcisi\.m2\repository\org\springframework\boot\spring-boot-starter\2.7.0\spring-boot-starter-2.7.0.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\boot\spring-boot\2.7.0\spring-boot-2.7.0.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\boot\spring-boot-autoconfigure\2.7.0\spring-boot-autoconfigure-2.7.0.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\boot\spring-boot-starter-logging\2.7.0\spring-boot-starter-logging-2.7.0.jar;C:\Users\ljurcisi\.m2\repository\ch\qos\logback\logback-classic\1.2.11\logback-classic-1.2.11.jar;C:\Users\ljurcisi\.m2\repository\ch\qos\logback\logback-core\1.2.11\logback-core-1.2.11.jar;C:\Users\ljurcisi\.m2\repository\org\apache\logging\log4j\log4j-to-slf4j\2.17.2\log4j-to-slf4j-2.17.2.jar;C:\Users\ljurcisi\.m2\repository\org\apache\logging\log4j\log4j-api\2.17.2\log4j-api-2.17.2.jar;C:\Users\ljurcisi\.m2\repository\org\slf4j\jul-to-slf4j\1.7.36\jul-to-slf4j-1.7.36.jar;C:\Users\ljurcisi\.m2\repository\jakarta\annotation\jakarta.annotation-api\1.3.5\jakarta.annotation-api-1.3.5.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\spring-core\5.3.20\spring-core-5.3.20.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\spring-jcl\5.3.20\spring-jcl-5.3.20.jar;C:\Users\ljurcisi\.m2\repository\org\yaml\snakeyaml\1.30\snakeyaml-1.30.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\boot\spring-boot-starter-security\2.7.0\spring-boot-starter-security-2.7.0.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\spring-aop\5.3.20\spring-aop-5.3.20.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\security\spring-security-config\5.7.1\spring-security-config-5.7.1.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\boot\spring-boot-starter-oauth2-client\2.7.0\spring-boot-starter-oauth2-client-2.7.0.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\security\spring-security-core\5.7.1\spring-security-core-5.7.1.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\security\spring-security-crypto\5.7.1\spring-security-crypto-5.7.1.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\security\spring-security-oauth2-client\5.7.1\spring-security-oauth2-client-5.7.1.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\security\spring-security-oauth2-core\5.7.1\spring-security-oauth2-core-5.7.1.jar;C:\Users\ljurcisi\.m2\repository\com\nimbusds\oauth2-oidc-sdk\9.35\oauth2-oidc-sdk-9.35.jar;C:\Users\ljurcisi\.m2\repository\com\github\stephenc\jcip\jcip-annotations\1.0-1\jcip-annotations-1.0-1.jar;C:\Users\ljurcisi\.m2\repository\com\nimbusds\content-type\2.2\content-type-2.2.jar;C:\Users\ljurcisi\.m2\repository\com\nimbusds\lang-tag\1.6\lang-tag-1.6.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\security\spring-security-oauth2-jose\5.7.1\spring-security-oauth2-jose-5.7.1.jar;C:\Users\ljurcisi\.m2\repository\com\nimbusds\nimbus-jose-jwt\9.22\nimbus-jose-jwt-9.22.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\boot\spring-boot-starter-tomcat\2.7.0\spring-boot-starter-tomcat-2.7.0.jar;C:\Users\ljurcisi\.m2\repository\org\apache\tomcat\embed\tomcat-embed-core\9.0.63\tomcat-embed-core-9.0.63.jar;C:\Users\ljurcisi\.m2\repository\org\apache\tomcat\embed\tomcat-embed-el\9.0.63\tomcat-embed-el-9.0.63.jar;C:\Users\ljurcisi\.m2\repository\org\apache\tomcat\embed\tomcat-embed-websocket\9.0.63\tomcat-embed-websocket-9.0.63.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\boot\spring-boot-starter-web\2.7.0\spring-boot-starter-web-2.7.0.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\boot\spring-boot-starter-json\2.7.0\spring-boot-starter-json-2.7.0.jar;C:\Users\ljurcisi\.m2\repository\com\fasterxml\jackson\core\jackson-databind\2.13.3\jackson-databind-2.13.3.jar;C:\Users\ljurcisi\.m2\repository\com\fasterxml\jackson\core\jackson-annotations\2.13.3\jackson-annotations-2.13.3.jar;C:\Users\ljurcisi\.m2\repository\com\fasterxml\jackson\core\jackson-core\2.13.3\jackson-core-2.13.3.jar;C:\Users\ljurcisi\.m2\repository\com\fasterxml\jackson\datatype\jackson-datatype-jdk8\2.13.3\jackson-datatype-jdk8-2.13.3.jar;C:\Users\ljurcisi\.m2\repository\com\fasterxml\jackson\datatype\jackson-datatype-jsr310\2.13.3\jackson-datatype-jsr310-2.13.3.jar;C:\Users\ljurcisi\.m2\repository\com\fasterxml\jackson\module\jackson-module-parameter-names\2.13.3\jackson-module-parameter-names-2.13.3.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\spring-web\5.3.20\spring-web-5.3.20.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\spring-webmvc\5.3.20\spring-webmvc-5.3.20.jar;C:\Users\ljurcisi\.m2\repository\net\minidev\json-smart\2.4.8\json-smart-2.4.8.jar;C:\Users\ljurcisi\.m2\repository\net\minidev\accessors-smart\2.4.8\accessors-smart-2.4.8.jar;C:\Users\ljurcisi\.m2\repository\org\ow2\asm\asm\9.1\asm-9.1.jar;C:\Users\ljurcisi\.m2\repository\org\slf4j\slf4j-api\1.7.36\slf4j-api-1.7.36.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\security\spring-security-web\5.7.2\spring-security-web-5.7.2.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\spring-beans\5.3.20\spring-beans-5.3.20.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\spring-context\5.3.20\spring-context-5.3.20.jar;C:\Users\ljurcisi\.m2\repository\org\springframework\spring-expression\5.3.20\spring-expression-5.3.20.jar;C:\Users\ljurcisi\.m2\repository\org\projectlombok\lombok\1.18.22\lombok-1.18.22.jar eu.gaiax.difs.aas.AuthDemoApplication
Java HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.0)

2022-07-25 13:02:54.599  INFO 13320 --- [main] eu.gaiax.difs.aas.AuthDemoApplication    : Starting AuthDemoApplication using Java 17.0.3 on TSSKKEWKS4716 with PID 13320 (C:\Users\ljurcisi\IdeaProjects\authenticationauthorization\app\target\classes started by ljurcisi in C:\Users\ljurcisi\IdeaProjects\authenticationauthorization)
2022-07-25 13:02:54.601 DEBUG 13320 --- [main] eu.gaiax.difs.aas.AuthDemoApplication    : Running with Spring Boot v2.7.0, Spring v5.3.20
2022-07-25 13:02:54.602  INFO 13320 --- [main] eu.gaiax.difs.aas.AuthDemoApplication    : The following 1 profile is active: "default"
2022-07-25 13:02:55.246  INFO 13320 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8990 (http)
2022-07-25 13:02:55.253  INFO 13320 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-07-25 13:02:55.253  INFO 13320 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2022-07-25 13:02:55.354  INFO 13320 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-07-25 13:02:55.355  INFO 13320 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 710 ms
2022-07-25 13:02:55.505 DEBUG 13320 --- [main] o.s.web.client.RestTemplate              : HTTP GET https://key-server.gxfs.dev/realms/gaia-x/.well-known/openid-configuration
2022-07-25 13:02:55.513 DEBUG 13320 --- [main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2022-07-25 13:02:55.921 DEBUG 13320 --- [main] o.s.web.client.RestTemplate              : Response 200 OK
2022-07-25 13:02:55.922 DEBUG 13320 --- [main] o.s.web.client.RestTemplate              : Reading to [java.util.Map<java.lang.String, java.lang.Object>]
2022-07-25 13:02:56.006 DEBUG 13320 --- [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2022-07-25 13:02:56.077 DEBUG 13320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/demo']
2022-07-25 13:02:56.082 DEBUG 13320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('SCOPE_profile')] for Ant [pattern='/demo/read']
2022-07-25 13:02:56.084 DEBUG 13320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('SCOPE_email')] for Ant [pattern='/demo/write']
2022-07-25 13:02:56.084 DEBUG 13320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for any request
2022-07-25 13:02:56.089  INFO 13320 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2921199d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d40a3b4, org.springframework.security.web.context.SecurityContextPersistenceFilter@44dc7b7d, org.springframework.security.web.header.HeaderWriterFilter@7f6329cb, org.springframework.security.web.csrf.CsrfFilter@e700eba, org.springframework.security.web.authentication.logout.LogoutFilter@67bb4dcd, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@ac91282, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1ca610a0, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7f79edee, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@25ffd826, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@29896529, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f13811b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationCodeGrantFilter@1775c4e7, org.springframework.security.web.session.SessionManagementFilter@77f4c040, org.springframework.security.web.access.ExceptionTranslationFilter@2173a742, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6f5d0190]
2022-07-25 13:02:56.229 DEBUG 13320 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2022-07-25 13:02:56.280  INFO 13320 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8990 (http) with context path ''
2022-07-25 13:02:56.288  INFO 13320 --- [main] eu.gaiax.difs.aas.AuthDemoApplication    : Started AuthDemoApplication in 2.129 seconds (JVM running for 2.856)
2022-07-25 14:51:34.836  INFO 13320 --- [http-nio-8990-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-25 14:51:34.836  INFO 13320 --- [http-nio-8990-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-07-25 14:51:34.836 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2022-07-25 14:51:34.836 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2022-07-25 14:51:34.836 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2022-07-25 14:51:34.837 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@53cb8fcf
2022-07-25 14:51:34.837 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5aa57892
2022-07-25 14:51:34.837 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2022-07-25 14:51:34.837  INFO 13320 --- [http-nio-8990-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-07-25 14:51:34.844 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /demo
2022-07-25 14:51:34.847 DEBUG 13320 --- [http-nio-8990-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:51:34.849 DEBUG 13320 --- [http-nio-8990-exec-1] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@4ab16631
2022-07-25 14:51:34.853 DEBUG 13320 --- [http-nio-8990-exec-1] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:51:34.854 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2022-07-25 14:51:34.860 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /demo] with attributes [authenticated]
2022-07-25 14:51:34.895 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://test-server:8990/demo to session
2022-07-25 14:51:34.896 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://test-server:8990/oauth2/authorization/demo-app-oidc
2022-07-25 14:51:34.897 DEBUG 13320 --- [http-nio-8990-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:51:34.898 DEBUG 13320 --- [http-nio-8990-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:51:34.899 DEBUG 13320 --- [http-nio-8990-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:51:34.908 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/demo-app-oidc
2022-07-25 14:51:34.909 DEBUG 13320 --- [http-nio-8990-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:51:34.909 DEBUG 13320 --- [http-nio-8990-exec-2] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@20ae8e6b
2022-07-25 14:51:34.913 DEBUG 13320 --- [http-nio-8990-exec-2] d.a.c.CustomAuthorizationRequestResolver : resolve1; scopes: [openid]
2022-07-25 14:51:34.913 DEBUG 13320 --- [http-nio-8990-exec-2] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest@6c312176
2022-07-25 14:51:34.913 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/auth?response_type=code&client_id=demo-app&scope=openid&state=S923ye_BS6Q_O5t8ZjjBD7wCkTaKEewJ3jhmhrQnCYk%3D&redirect_uri=http://test-server:8990/login/oauth2/code/demo-app-oidc&nonce=N_umqEJpydGpN2VouBbvzg6rhiRtp2y2_3Lzrnl0iiM
2022-07-25 14:51:34.914 DEBUG 13320 --- [http-nio-8990-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:51:34.914 DEBUG 13320 --- [http-nio-8990-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:51:34.914 DEBUG 13320 --- [http-nio-8990-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:52:03.245 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/demo-app-oidc?state=S923ye_BS6Q_O5t8ZjjBD7wCkTaKEewJ3jhmhrQnCYk%3D&session_state=2b484e27-f41a-4092-8473-537e54cc962b&code=ee551187-0c3d-4be3-b548-6178fa19198c.2b484e27-f41a-4092-8473-537e54cc962b.52c9c697-c860-4edd-bde4-5e03904fdb44
2022-07-25 14:52:03.245 DEBUG 13320 --- [http-nio-8990-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:52:03.245 DEBUG 13320 --- [http-nio-8990-exec-3] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@62fb3391
2022-07-25 14:52:03.245 DEBUG 13320 --- [http-nio-8990-exec-3] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:52:03.247 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.web.client.RestTemplate              : HTTP POST https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/token
2022-07-25 14:52:03.247 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2022-07-25 14:52:03.248 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.web.client.RestTemplate              : Writing [{grant_type=[authorization_code], code=[ee551187-0c3d-4be3-b548-6178fa19198c.2b484e27-f41a-4092-8473-537e54cc962b.52c9c697-c860-4edd-bde4-5e03904fdb44], redirect_uri=[http://test-server:8990/login/oauth2/code/demo-app-oidc]}] as "application/x-www-form-urlencoded;charset=UTF-8"
2022-07-25 14:52:03.437 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2022-07-25 14:52:03.437 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.web.client.RestTemplate              : Reading to [org.springframework.security.oauth2.core.endpoint.OAuth2AccessTokenResponse] as "application/json"
2022-07-25 14:52:03.471 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.web.client.RestTemplate              : HTTP GET https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/certs
2022-07-25 14:52:03.472 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2022-07-25 14:52:03.526 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2022-07-25 14:52:03.526 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2022-07-25 14:52:03.536 DEBUG 13320 --- [http-nio-8990-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 037834D7EAE3E562016B863658F594EC
2022-07-25 14:52:03.538 DEBUG 13320 --- [http-nio-8990-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=5L3s8x_cP80PtMG7_eXOCg, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=N_umqEJpydGpN2VouBbvzg6rhiRtp2y2_3Lzrnl0iiM, sid=2b484e27-f41a-4092-8473-537e54cc962b, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:03Z, exp=2022-07-25T12:57:03Z, session_state=2b484e27-f41a-4092-8473-537e54cc962b, iat=2022-07-25T12:52:03Z, jti=673faaa3-7b6e-4700-bdcd-18363a25a9ca}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=037834D7EAE3E562016B863658F594EC], Granted Authorities=[ROLE_USER, SCOPE_openid]]
2022-07-25 14:52:03.539 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://test-server:8990/demo
2022-07-25 14:52:03.539 DEBUG 13320 --- [http-nio-8990-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=5L3s8x_cP80PtMG7_eXOCg, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=N_umqEJpydGpN2VouBbvzg6rhiRtp2y2_3Lzrnl0iiM, sid=2b484e27-f41a-4092-8473-537e54cc962b, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:03Z, exp=2022-07-25T12:57:03Z, session_state=2b484e27-f41a-4092-8473-537e54cc962b, iat=2022-07-25T12:52:03Z, jti=673faaa3-7b6e-4700-bdcd-18363a25a9ca}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=037834D7EAE3E562016B863658F594EC], Granted Authorities=[ROLE_USER, SCOPE_openid]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@53aca69f]
2022-07-25 14:52:03.539 DEBUG 13320 --- [http-nio-8990-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=5L3s8x_cP80PtMG7_eXOCg, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=N_umqEJpydGpN2VouBbvzg6rhiRtp2y2_3Lzrnl0iiM, sid=2b484e27-f41a-4092-8473-537e54cc962b, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:03Z, exp=2022-07-25T12:57:03Z, session_state=2b484e27-f41a-4092-8473-537e54cc962b, iat=2022-07-25T12:52:03Z, jti=673faaa3-7b6e-4700-bdcd-18363a25a9ca}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=037834D7EAE3E562016B863658F594EC], Granted Authorities=[ROLE_USER, SCOPE_openid]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@53aca69f]
2022-07-25 14:52:03.539 DEBUG 13320 --- [http-nio-8990-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:52:03.547 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /demo
2022-07-25 14:52:03.548 DEBUG 13320 --- [http-nio-8990-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=5L3s8x_cP80PtMG7_eXOCg, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=N_umqEJpydGpN2VouBbvzg6rhiRtp2y2_3Lzrnl0iiM, sid=2b484e27-f41a-4092-8473-537e54cc962b, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:03Z, exp=2022-07-25T12:57:03Z, session_state=2b484e27-f41a-4092-8473-537e54cc962b, iat=2022-07-25T12:52:03Z, jti=673faaa3-7b6e-4700-bdcd-18363a25a9ca}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=037834D7EAE3E562016B863658F594EC], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-25 14:52:03.548 DEBUG 13320 --- [http-nio-8990-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=5L3s8x_cP80PtMG7_eXOCg, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=N_umqEJpydGpN2VouBbvzg6rhiRtp2y2_3Lzrnl0iiM, sid=2b484e27-f41a-4092-8473-537e54cc962b, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:03Z, exp=2022-07-25T12:57:03Z, session_state=2b484e27-f41a-4092-8473-537e54cc962b, iat=2022-07-25T12:52:03Z, jti=673faaa3-7b6e-4700-bdcd-18363a25a9ca}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=037834D7EAE3E562016B863658F594EC], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-25 14:52:03.548 DEBUG 13320 --- [http-nio-8990-exec-4] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@2556e9b8
2022-07-25 14:52:03.548 DEBUG 13320 --- [http-nio-8990-exec-4] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:52:03.548 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://test-server:8990/demo
2022-07-25 14:52:03.549 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /demo] with attributes [authenticated]
2022-07-25 14:52:03.550 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /demo
2022-07-25 14:52:03.551 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/demo", parameters={}
2022-07-25 14:52:03.560 DEBUG 13320 --- [http-nio-8990-exec-4] d.a.c.CustomAuthorizationRequestResolver : setScopes; scopes: [openid]
2022-07-25 14:52:03.570 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2022-07-25 14:52:03.571 DEBUG 13320 --- [http-nio-8990-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:52:03.609 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2022-07-25 14:52:03.609 DEBUG 13320 --- [http-nio-8990-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=5L3s8x_cP80PtMG7_eXOCg, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=N_umqEJpydGpN2VouBbvzg6rhiRtp2y2_3Lzrnl0iiM, sid=2b484e27-f41a-4092-8473-537e54cc962b, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:03Z, exp=2022-07-25T12:57:03Z, session_state=2b484e27-f41a-4092-8473-537e54cc962b, iat=2022-07-25T12:52:03Z, jti=673faaa3-7b6e-4700-bdcd-18363a25a9ca}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=037834D7EAE3E562016B863658F594EC], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-25 14:52:03.609 DEBUG 13320 --- [http-nio-8990-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=5L3s8x_cP80PtMG7_eXOCg, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=N_umqEJpydGpN2VouBbvzg6rhiRtp2y2_3Lzrnl0iiM, sid=2b484e27-f41a-4092-8473-537e54cc962b, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:03Z, exp=2022-07-25T12:57:03Z, session_state=2b484e27-f41a-4092-8473-537e54cc962b, iat=2022-07-25T12:52:03Z, jti=673faaa3-7b6e-4700-bdcd-18363a25a9ca}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=037834D7EAE3E562016B863658F594EC], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-25 14:52:03.609 DEBUG 13320 --- [http-nio-8990-exec-5] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5d0697b7
2022-07-25 14:52:03.610 DEBUG 13320 --- [http-nio-8990-exec-5] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:52:03.610 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /favicon.ico] with attributes [permitAll]
2022-07-25 14:52:03.610 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /favicon.ico
2022-07-25 14:52:03.610 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/favicon.ico", parameters={}
2022-07-25 14:52:03.613 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2022-07-25 14:52:03.615 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2022-07-25 14:52:03.616 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2022-07-25 14:52:03.616 DEBUG 13320 --- [http-nio-8990-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:52:03.617 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2022-07-25 14:52:03.617 DEBUG 13320 --- [http-nio-8990-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=5L3s8x_cP80PtMG7_eXOCg, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=N_umqEJpydGpN2VouBbvzg6rhiRtp2y2_3Lzrnl0iiM, sid=2b484e27-f41a-4092-8473-537e54cc962b, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:03Z, exp=2022-07-25T12:57:03Z, session_state=2b484e27-f41a-4092-8473-537e54cc962b, iat=2022-07-25T12:52:03Z, jti=673faaa3-7b6e-4700-bdcd-18363a25a9ca}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=037834D7EAE3E562016B863658F594EC], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-25 14:52:03.617 DEBUG 13320 --- [http-nio-8990-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=5L3s8x_cP80PtMG7_eXOCg, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=N_umqEJpydGpN2VouBbvzg6rhiRtp2y2_3Lzrnl0iiM, sid=2b484e27-f41a-4092-8473-537e54cc962b, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:03Z, exp=2022-07-25T12:57:03Z, session_state=2b484e27-f41a-4092-8473-537e54cc962b, iat=2022-07-25T12:52:03Z, jti=673faaa3-7b6e-4700-bdcd-18363a25a9ca}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=037834D7EAE3E562016B863658F594EC], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-25 14:52:03.618 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error
2022-07-25 14:52:03.621 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2022-07-25 14:52:03.649 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2022-07-25 14:52:03.649 DEBUG 13320 --- [http-nio-8990-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:52:37.968 DEBUG 13320 --- [http-nio-8990-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /demo/read
2022-07-25 14:52:37.968 DEBUG 13320 --- [http-nio-8990-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=5L3s8x_cP80PtMG7_eXOCg, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=N_umqEJpydGpN2VouBbvzg6rhiRtp2y2_3Lzrnl0iiM, sid=2b484e27-f41a-4092-8473-537e54cc962b, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:03Z, exp=2022-07-25T12:57:03Z, session_state=2b484e27-f41a-4092-8473-537e54cc962b, iat=2022-07-25T12:52:03Z, jti=673faaa3-7b6e-4700-bdcd-18363a25a9ca}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=037834D7EAE3E562016B863658F594EC], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-25 14:52:37.968 DEBUG 13320 --- [http-nio-8990-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=5L3s8x_cP80PtMG7_eXOCg, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=N_umqEJpydGpN2VouBbvzg6rhiRtp2y2_3Lzrnl0iiM, sid=2b484e27-f41a-4092-8473-537e54cc962b, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:03Z, exp=2022-07-25T12:57:03Z, session_state=2b484e27-f41a-4092-8473-537e54cc962b, iat=2022-07-25T12:52:03Z, jti=673faaa3-7b6e-4700-bdcd-18363a25a9ca}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=037834D7EAE3E562016B863658F594EC], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-25 14:52:37.968 DEBUG 13320 --- [http-nio-8990-exec-7] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5f4cac
2022-07-25 14:52:37.968 DEBUG 13320 --- [http-nio-8990-exec-7] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:52:37.972 DEBUG 13320 --- [http-nio-8990-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /demo/read] with attributes [hasAuthority('SCOPE_profile')]
2022-07-25 14:52:37.972 DEBUG 13320 --- [http-nio-8990-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:52:37.980 DEBUG 13320 --- [http-nio-8990-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /logout?redirect_url=http://test-server:8990/demo/read
2022-07-25 14:52:37.980 DEBUG 13320 --- [http-nio-8990-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=5L3s8x_cP80PtMG7_eXOCg, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=N_umqEJpydGpN2VouBbvzg6rhiRtp2y2_3Lzrnl0iiM, sid=2b484e27-f41a-4092-8473-537e54cc962b, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:03Z, exp=2022-07-25T12:57:03Z, session_state=2b484e27-f41a-4092-8473-537e54cc962b, iat=2022-07-25T12:52:03Z, jti=673faaa3-7b6e-4700-bdcd-18363a25a9ca}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=037834D7EAE3E562016B863658F594EC], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-25 14:52:37.981 DEBUG 13320 --- [http-nio-8990-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=5L3s8x_cP80PtMG7_eXOCg, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=N_umqEJpydGpN2VouBbvzg6rhiRtp2y2_3Lzrnl0iiM, sid=2b484e27-f41a-4092-8473-537e54cc962b, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:03Z, exp=2022-07-25T12:57:03Z, session_state=2b484e27-f41a-4092-8473-537e54cc962b, iat=2022-07-25T12:52:03Z, jti=673faaa3-7b6e-4700-bdcd-18363a25a9ca}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=037834D7EAE3E562016B863658F594EC], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-25 14:52:37.981 DEBUG 13320 --- [http-nio-8990-exec-8] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@74823510
2022-07-25 14:52:37.981 DEBUG 13320 --- [http-nio-8990-exec-8] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:52:37.981 DEBUG 13320 --- [http-nio-8990-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /logout?redirect_url=http://test-server:8990/demo/read] with attributes [permitAll]
2022-07-25 14:52:37.981 DEBUG 13320 --- [http-nio-8990-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /logout?redirect_url=http://test-server:8990/demo/read
2022-07-25 14:52:37.981 DEBUG 13320 --- [http-nio-8990-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/logout?redirect_url=http://test-server:8990/demo/read", parameters={masked}
2022-07-25 14:52:37.982 DEBUG 13320 --- [http-nio-8990-exec-8] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session 5841F3DBD0F16BB7DAB4B24903AAF19D
2022-07-25 14:52:37.983 DEBUG 13320 --- [http-nio-8990-exec-8] d.a.c.CustomAuthorizationRequestResolver : setScopes; scopes: [openid, profile]
2022-07-25 14:52:37.984 DEBUG 13320 --- [http-nio-8990-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:52:37.984 DEBUG 13320 --- [http-nio-8990-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2022-07-25 14:52:37.984 DEBUG 13320 --- [http-nio-8990-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:52:37.984 DEBUG 13320 --- [http-nio-8990-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:52:38.054 DEBUG 13320 --- [http-nio-8990-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /demo/read
2022-07-25 14:52:38.055 DEBUG 13320 --- [http-nio-8990-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:52:38.055 DEBUG 13320 --- [http-nio-8990-exec-9] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@74e8fbd2
2022-07-25 14:52:38.055 DEBUG 13320 --- [http-nio-8990-exec-9] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:52:38.055 DEBUG 13320 --- [http-nio-8990-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2022-07-25 14:52:38.055 DEBUG 13320 --- [http-nio-8990-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /demo/read] with attributes [hasAuthority('SCOPE_profile')]
2022-07-25 14:52:38.056 DEBUG 13320 --- [http-nio-8990-exec-9] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://test-server:8990/demo/read to session
2022-07-25 14:52:38.056 DEBUG 13320 --- [http-nio-8990-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://test-server:8990/oauth2/authorization/demo-app-oidc
2022-07-25 14:52:38.056 DEBUG 13320 --- [http-nio-8990-exec-9] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:52:38.056 DEBUG 13320 --- [http-nio-8990-exec-9] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:52:38.056 DEBUG 13320 --- [http-nio-8990-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:52:38.063 DEBUG 13320 --- [http-nio-8990-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/demo-app-oidc
2022-07-25 14:52:38.063 DEBUG 13320 --- [http-nio-8990-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:52:38.064 DEBUG 13320 --- [http-nio-8990-exec-10] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@3c1e4d04
2022-07-25 14:52:38.064 DEBUG 13320 --- [http-nio-8990-exec-10] d.a.c.CustomAuthorizationRequestResolver : resolve1; scopes: [openid, profile]
2022-07-25 14:52:38.064 DEBUG 13320 --- [http-nio-8990-exec-10] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest@32d9b4f7
2022-07-25 14:52:38.065 DEBUG 13320 --- [http-nio-8990-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/auth?response_type=code&client_id=demo-app&scope=openid%20profile&state=R9LZFsGAY8_qwE_TcuKivy77aWS3FZLdPRRFL6UbaaQ%3D&redirect_uri=http://test-server:8990/login/oauth2/code/demo-app-oidc&nonce=QPKbxksGDVcAeNxjJTboMWzap-lOCK25ucDsJF9LtJ0
2022-07-25 14:52:38.065 DEBUG 13320 --- [http-nio-8990-exec-10] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:52:38.065 DEBUG 13320 --- [http-nio-8990-exec-10] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:52:38.065 DEBUG 13320 --- [http-nio-8990-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:52:44.361 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/demo-app-oidc?state=R9LZFsGAY8_qwE_TcuKivy77aWS3FZLdPRRFL6UbaaQ%3D&session_state=1f2448fb-a698-41ba-b675-0e5b80f2c009&code=bd0d8adf-1f9a-467a-bd6f-23be2193c2ff.1f2448fb-a698-41ba-b675-0e5b80f2c009.52c9c697-c860-4edd-bde4-5e03904fdb44
2022-07-25 14:52:44.362 DEBUG 13320 --- [http-nio-8990-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:52:44.362 DEBUG 13320 --- [http-nio-8990-exec-1] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@4c23bec2
2022-07-25 14:52:44.362 DEBUG 13320 --- [http-nio-8990-exec-1] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:52:44.362 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.web.client.RestTemplate              : HTTP POST https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/token
2022-07-25 14:52:44.363 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2022-07-25 14:52:44.363 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.web.client.RestTemplate              : Writing [{grant_type=[authorization_code], code=[bd0d8adf-1f9a-467a-bd6f-23be2193c2ff.1f2448fb-a698-41ba-b675-0e5b80f2c009.52c9c697-c860-4edd-bde4-5e03904fdb44], redirect_uri=[http://test-server:8990/login/oauth2/code/demo-app-oidc]}] as "application/x-www-form-urlencoded;charset=UTF-8"
2022-07-25 14:52:44.536 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2022-07-25 14:52:44.536 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.web.client.RestTemplate              : Reading to [org.springframework.security.oauth2.core.endpoint.OAuth2AccessTokenResponse] as "application/json"
2022-07-25 14:52:44.543 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.web.client.RestTemplate              : HTTP GET https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/userinfo
2022-07-25 14:52:44.544 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2022-07-25 14:52:44.601 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2022-07-25 14:52:44.602 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.web.client.RestTemplate              : Reading to [java.util.Map<java.lang.String, java.lang.Object>]
2022-07-25 14:52:44.604 DEBUG 13320 --- [http-nio-8990-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 54DCD94E89EA46910E4A184FAB682229
2022-07-25 14:52:44.604 DEBUG 13320 --- [http-nio-8990-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=u0eUj2ACBUsaPv_zvrMLuA, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, given_name=825f9b84-347e-42a4-af9a-8d372812e8a1, nonce=QPKbxksGDVcAeNxjJTboMWzap-lOCK25ucDsJF9LtJ0, sid=1f2448fb-a698-41ba-b675-0e5b80f2c009, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:44Z, name=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, exp=2022-07-25T12:57:44Z, session_state=1f2448fb-a698-41ba-b675-0e5b80f2c009, family_name=1658753522648, iat=2022-07-25T12:52:44Z, jti=f3324b51-2b25-448e-9665-251f98e21ca8}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=54DCD94E89EA46910E4A184FAB682229], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]
2022-07-25 14:52:44.604 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://test-server:8990/demo/read
2022-07-25 14:52:44.604 DEBUG 13320 --- [http-nio-8990-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=u0eUj2ACBUsaPv_zvrMLuA, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, given_name=825f9b84-347e-42a4-af9a-8d372812e8a1, nonce=QPKbxksGDVcAeNxjJTboMWzap-lOCK25ucDsJF9LtJ0, sid=1f2448fb-a698-41ba-b675-0e5b80f2c009, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:44Z, name=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, exp=2022-07-25T12:57:44Z, session_state=1f2448fb-a698-41ba-b675-0e5b80f2c009, family_name=1658753522648, iat=2022-07-25T12:52:44Z, jti=f3324b51-2b25-448e-9665-251f98e21ca8}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=54DCD94E89EA46910E4A184FAB682229], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@92381c7]
2022-07-25 14:52:44.604 DEBUG 13320 --- [http-nio-8990-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=u0eUj2ACBUsaPv_zvrMLuA, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, given_name=825f9b84-347e-42a4-af9a-8d372812e8a1, nonce=QPKbxksGDVcAeNxjJTboMWzap-lOCK25ucDsJF9LtJ0, sid=1f2448fb-a698-41ba-b675-0e5b80f2c009, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:44Z, name=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, exp=2022-07-25T12:57:44Z, session_state=1f2448fb-a698-41ba-b675-0e5b80f2c009, family_name=1658753522648, iat=2022-07-25T12:52:44Z, jti=f3324b51-2b25-448e-9665-251f98e21ca8}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=54DCD94E89EA46910E4A184FAB682229], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@92381c7]
2022-07-25 14:52:44.605 DEBUG 13320 --- [http-nio-8990-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:52:44.612 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /demo/read
2022-07-25 14:52:44.612 DEBUG 13320 --- [http-nio-8990-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=u0eUj2ACBUsaPv_zvrMLuA, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, given_name=825f9b84-347e-42a4-af9a-8d372812e8a1, nonce=QPKbxksGDVcAeNxjJTboMWzap-lOCK25ucDsJF9LtJ0, sid=1f2448fb-a698-41ba-b675-0e5b80f2c009, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:44Z, name=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, exp=2022-07-25T12:57:44Z, session_state=1f2448fb-a698-41ba-b675-0e5b80f2c009, family_name=1658753522648, iat=2022-07-25T12:52:44Z, jti=f3324b51-2b25-448e-9665-251f98e21ca8}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=54DCD94E89EA46910E4A184FAB682229], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]]
2022-07-25 14:52:44.612 DEBUG 13320 --- [http-nio-8990-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=u0eUj2ACBUsaPv_zvrMLuA, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, given_name=825f9b84-347e-42a4-af9a-8d372812e8a1, nonce=QPKbxksGDVcAeNxjJTboMWzap-lOCK25ucDsJF9LtJ0, sid=1f2448fb-a698-41ba-b675-0e5b80f2c009, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:44Z, name=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, exp=2022-07-25T12:57:44Z, session_state=1f2448fb-a698-41ba-b675-0e5b80f2c009, family_name=1658753522648, iat=2022-07-25T12:52:44Z, jti=f3324b51-2b25-448e-9665-251f98e21ca8}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=54DCD94E89EA46910E4A184FAB682229], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]]
2022-07-25 14:52:44.612 DEBUG 13320 --- [http-nio-8990-exec-2] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@6db62b9d
2022-07-25 14:52:44.612 DEBUG 13320 --- [http-nio-8990-exec-2] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:52:44.612 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://test-server:8990/demo/read
2022-07-25 14:52:44.613 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /demo/read] with attributes [hasAuthority('SCOPE_profile')]
2022-07-25 14:52:44.613 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /demo/read
2022-07-25 14:52:44.613 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/demo/read", parameters={}
2022-07-25 14:52:44.613 DEBUG 13320 --- [http-nio-8990-exec-2] d.a.c.CustomAuthorizationRequestResolver : setScopes; scopes: [openid]
2022-07-25 14:52:44.614 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2022-07-25 14:52:44.614 DEBUG 13320 --- [http-nio-8990-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:53:05.582 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /demo/write
2022-07-25 14:53:05.582 DEBUG 13320 --- [http-nio-8990-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=u0eUj2ACBUsaPv_zvrMLuA, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, given_name=825f9b84-347e-42a4-af9a-8d372812e8a1, nonce=QPKbxksGDVcAeNxjJTboMWzap-lOCK25ucDsJF9LtJ0, sid=1f2448fb-a698-41ba-b675-0e5b80f2c009, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:44Z, name=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, exp=2022-07-25T12:57:44Z, session_state=1f2448fb-a698-41ba-b675-0e5b80f2c009, family_name=1658753522648, iat=2022-07-25T12:52:44Z, jti=f3324b51-2b25-448e-9665-251f98e21ca8}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=54DCD94E89EA46910E4A184FAB682229], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]]
2022-07-25 14:53:05.582 DEBUG 13320 --- [http-nio-8990-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=u0eUj2ACBUsaPv_zvrMLuA, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, given_name=825f9b84-347e-42a4-af9a-8d372812e8a1, nonce=QPKbxksGDVcAeNxjJTboMWzap-lOCK25ucDsJF9LtJ0, sid=1f2448fb-a698-41ba-b675-0e5b80f2c009, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:44Z, name=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, exp=2022-07-25T12:57:44Z, session_state=1f2448fb-a698-41ba-b675-0e5b80f2c009, family_name=1658753522648, iat=2022-07-25T12:52:44Z, jti=f3324b51-2b25-448e-9665-251f98e21ca8}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=54DCD94E89EA46910E4A184FAB682229], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]]
2022-07-25 14:53:05.583 DEBUG 13320 --- [http-nio-8990-exec-3] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@2a4aacb1
2022-07-25 14:53:05.583 DEBUG 13320 --- [http-nio-8990-exec-3] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:53:05.583 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /demo/write] with attributes [hasAuthority('SCOPE_email')]
2022-07-25 14:53:05.583 DEBUG 13320 --- [http-nio-8990-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:53:05.589 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /logout?redirect_url=http://test-server:8990/demo/write
2022-07-25 14:53:05.590 DEBUG 13320 --- [http-nio-8990-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=u0eUj2ACBUsaPv_zvrMLuA, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, given_name=825f9b84-347e-42a4-af9a-8d372812e8a1, nonce=QPKbxksGDVcAeNxjJTboMWzap-lOCK25ucDsJF9LtJ0, sid=1f2448fb-a698-41ba-b675-0e5b80f2c009, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:44Z, name=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, exp=2022-07-25T12:57:44Z, session_state=1f2448fb-a698-41ba-b675-0e5b80f2c009, family_name=1658753522648, iat=2022-07-25T12:52:44Z, jti=f3324b51-2b25-448e-9665-251f98e21ca8}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=54DCD94E89EA46910E4A184FAB682229], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]]
2022-07-25 14:53:05.590 DEBUG 13320 --- [http-nio-8990-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=u0eUj2ACBUsaPv_zvrMLuA, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, given_name=825f9b84-347e-42a4-af9a-8d372812e8a1, nonce=QPKbxksGDVcAeNxjJTboMWzap-lOCK25ucDsJF9LtJ0, sid=1f2448fb-a698-41ba-b675-0e5b80f2c009, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:52:44Z, name=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, exp=2022-07-25T12:57:44Z, session_state=1f2448fb-a698-41ba-b675-0e5b80f2c009, family_name=1658753522648, iat=2022-07-25T12:52:44Z, jti=f3324b51-2b25-448e-9665-251f98e21ca8}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=54DCD94E89EA46910E4A184FAB682229], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]]
2022-07-25 14:53:05.590 DEBUG 13320 --- [http-nio-8990-exec-4] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@48fc1d82
2022-07-25 14:53:05.590 DEBUG 13320 --- [http-nio-8990-exec-4] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:53:05.590 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /logout?redirect_url=http://test-server:8990/demo/write] with attributes [permitAll]
2022-07-25 14:53:05.590 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /logout?redirect_url=http://test-server:8990/demo/write
2022-07-25 14:53:05.591 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/logout?redirect_url=http://test-server:8990/demo/write", parameters={masked}
2022-07-25 14:53:05.591 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session C3B4B790B51505B6ACE9CE6D937C8429
2022-07-25 14:53:05.591 DEBUG 13320 --- [http-nio-8990-exec-4] d.a.c.CustomAuthorizationRequestResolver : setScopes; scopes: [openid, email]
2022-07-25 14:53:05.591 DEBUG 13320 --- [http-nio-8990-exec-4] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:53:05.591 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2022-07-25 14:53:05.591 DEBUG 13320 --- [http-nio-8990-exec-4] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:53:05.591 DEBUG 13320 --- [http-nio-8990-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:53:05.666 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /demo/write
2022-07-25 14:53:05.667 DEBUG 13320 --- [http-nio-8990-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:53:05.667 DEBUG 13320 --- [http-nio-8990-exec-5] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@4f783e23
2022-07-25 14:53:05.667 DEBUG 13320 --- [http-nio-8990-exec-5] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:53:05.667 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2022-07-25 14:53:05.668 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /demo/write] with attributes [hasAuthority('SCOPE_email')]
2022-07-25 14:53:05.669 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://test-server:8990/demo/write to session
2022-07-25 14:53:05.669 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://test-server:8990/oauth2/authorization/demo-app-oidc
2022-07-25 14:53:05.669 DEBUG 13320 --- [http-nio-8990-exec-5] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:53:05.669 DEBUG 13320 --- [http-nio-8990-exec-5] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:53:05.670 DEBUG 13320 --- [http-nio-8990-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:53:05.676 DEBUG 13320 --- [http-nio-8990-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/demo-app-oidc
2022-07-25 14:53:05.677 DEBUG 13320 --- [http-nio-8990-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:53:05.677 DEBUG 13320 --- [http-nio-8990-exec-6] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@7e0acd6d
2022-07-25 14:53:05.677 DEBUG 13320 --- [http-nio-8990-exec-6] d.a.c.CustomAuthorizationRequestResolver : resolve1; scopes: [openid, email]
2022-07-25 14:53:05.678 DEBUG 13320 --- [http-nio-8990-exec-6] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest@70cd3cdc
2022-07-25 14:53:05.678 DEBUG 13320 --- [http-nio-8990-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/auth?response_type=code&client_id=demo-app&scope=openid%20email&state=K7IvH6ZvGIuK359-QSEEsIIFSFp1UK6XVee_Qh0CReQ%3D&redirect_uri=http://test-server:8990/login/oauth2/code/demo-app-oidc&nonce=zkylF5OSFrAzTCXX-gQU76BeS9PMxKDUP1E0rTgHxYU
2022-07-25 14:53:05.678 DEBUG 13320 --- [http-nio-8990-exec-6] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:53:05.678 DEBUG 13320 --- [http-nio-8990-exec-6] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:53:05.678 DEBUG 13320 --- [http-nio-8990-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:53:08.391 DEBUG 13320 --- [http-nio-8990-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/demo-app-oidc?state=K7IvH6ZvGIuK359-QSEEsIIFSFp1UK6XVee_Qh0CReQ%3D&session_state=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95&code=e8d25f4e-972d-4c6f-9bfa-8fd271389deb.87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95.52c9c697-c860-4edd-bde4-5e03904fdb44
2022-07-25 14:53:08.391 DEBUG 13320 --- [http-nio-8990-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:53:08.392 DEBUG 13320 --- [http-nio-8990-exec-7] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5f2c9708
2022-07-25 14:53:08.392 DEBUG 13320 --- [http-nio-8990-exec-7] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:53:08.392 DEBUG 13320 --- [http-nio-8990-exec-7] o.s.web.client.RestTemplate              : HTTP POST https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/token
2022-07-25 14:53:08.392 DEBUG 13320 --- [http-nio-8990-exec-7] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2022-07-25 14:53:08.392 DEBUG 13320 --- [http-nio-8990-exec-7] o.s.web.client.RestTemplate              : Writing [{grant_type=[authorization_code], code=[e8d25f4e-972d-4c6f-9bfa-8fd271389deb.87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95.52c9c697-c860-4edd-bde4-5e03904fdb44], redirect_uri=[http://test-server:8990/login/oauth2/code/demo-app-oidc]}] as "application/x-www-form-urlencoded;charset=UTF-8"
2022-07-25 14:53:08.569 DEBUG 13320 --- [http-nio-8990-exec-7] o.s.web.client.RestTemplate              : Response 200 OK
2022-07-25 14:53:08.569 DEBUG 13320 --- [http-nio-8990-exec-7] o.s.web.client.RestTemplate              : Reading to [org.springframework.security.oauth2.core.endpoint.OAuth2AccessTokenResponse] as "application/json"
2022-07-25 14:53:08.571 DEBUG 13320 --- [http-nio-8990-exec-7] o.s.web.client.RestTemplate              : HTTP GET https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/userinfo
2022-07-25 14:53:08.572 DEBUG 13320 --- [http-nio-8990-exec-7] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2022-07-25 14:53:08.628 DEBUG 13320 --- [http-nio-8990-exec-7] o.s.web.client.RestTemplate              : Response 200 OK
2022-07-25 14:53:08.629 DEBUG 13320 --- [http-nio-8990-exec-7] o.s.web.client.RestTemplate              : Reading to [java.util.Map<java.lang.String, java.lang.Object>]
2022-07-25 14:53:08.629 DEBUG 13320 --- [http-nio-8990-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from ECB75E7D19BC5077D3448A42259A26B0
2022-07-25 14:53:08.629 DEBUG 13320 --- [http-nio-8990-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_email, SCOPE_openid]], User Attributes: [{at_hash=j2x8SRv7EKbiiCnhMn-RlQ, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, email_verified=true, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=zkylF5OSFrAzTCXX-gQU76BeS9PMxKDUP1E0rTgHxYU, sid=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:53:08Z, exp=2022-07-25T12:58:08Z, session_state=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, iat=2022-07-25T12:53:08Z, email=825f9b84-347e-42a4-af9a-8d372812e8a1@oidc.ssi, jti=b15840a4-809a-499e-a079-73bb374ba9e5}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=ECB75E7D19BC5077D3448A42259A26B0], Granted Authorities=[ROLE_USER, SCOPE_email, SCOPE_openid]]
2022-07-25 14:53:08.629 DEBUG 13320 --- [http-nio-8990-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://test-server:8990/demo/write
2022-07-25 14:53:08.630 DEBUG 13320 --- [http-nio-8990-exec-7] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_email, SCOPE_openid]], User Attributes: [{at_hash=j2x8SRv7EKbiiCnhMn-RlQ, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, email_verified=true, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=zkylF5OSFrAzTCXX-gQU76BeS9PMxKDUP1E0rTgHxYU, sid=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:53:08Z, exp=2022-07-25T12:58:08Z, session_state=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, iat=2022-07-25T12:53:08Z, email=825f9b84-347e-42a4-af9a-8d372812e8a1@oidc.ssi, jti=b15840a4-809a-499e-a079-73bb374ba9e5}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=ECB75E7D19BC5077D3448A42259A26B0], Granted Authorities=[ROLE_USER, SCOPE_email, SCOPE_openid]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@2b047935]
2022-07-25 14:53:08.630 DEBUG 13320 --- [http-nio-8990-exec-7] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_email, SCOPE_openid]], User Attributes: [{at_hash=j2x8SRv7EKbiiCnhMn-RlQ, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, email_verified=true, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=zkylF5OSFrAzTCXX-gQU76BeS9PMxKDUP1E0rTgHxYU, sid=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:53:08Z, exp=2022-07-25T12:58:08Z, session_state=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, iat=2022-07-25T12:53:08Z, email=825f9b84-347e-42a4-af9a-8d372812e8a1@oidc.ssi, jti=b15840a4-809a-499e-a079-73bb374ba9e5}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=ECB75E7D19BC5077D3448A42259A26B0], Granted Authorities=[ROLE_USER, SCOPE_email, SCOPE_openid]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@2b047935]
2022-07-25 14:53:08.630 DEBUG 13320 --- [http-nio-8990-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:53:08.639 DEBUG 13320 --- [http-nio-8990-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /demo/write
2022-07-25 14:53:08.640 DEBUG 13320 --- [http-nio-8990-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_email, SCOPE_openid]], User Attributes: [{at_hash=j2x8SRv7EKbiiCnhMn-RlQ, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, email_verified=true, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=zkylF5OSFrAzTCXX-gQU76BeS9PMxKDUP1E0rTgHxYU, sid=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:53:08Z, exp=2022-07-25T12:58:08Z, session_state=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, iat=2022-07-25T12:53:08Z, email=825f9b84-347e-42a4-af9a-8d372812e8a1@oidc.ssi, jti=b15840a4-809a-499e-a079-73bb374ba9e5}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=ECB75E7D19BC5077D3448A42259A26B0], Granted Authorities=[ROLE_USER, SCOPE_email, SCOPE_openid]]]
2022-07-25 14:53:08.640 DEBUG 13320 --- [http-nio-8990-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_email, SCOPE_openid]], User Attributes: [{at_hash=j2x8SRv7EKbiiCnhMn-RlQ, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, email_verified=true, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=zkylF5OSFrAzTCXX-gQU76BeS9PMxKDUP1E0rTgHxYU, sid=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:53:08Z, exp=2022-07-25T12:58:08Z, session_state=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, iat=2022-07-25T12:53:08Z, email=825f9b84-347e-42a4-af9a-8d372812e8a1@oidc.ssi, jti=b15840a4-809a-499e-a079-73bb374ba9e5}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=ECB75E7D19BC5077D3448A42259A26B0], Granted Authorities=[ROLE_USER, SCOPE_email, SCOPE_openid]]]
2022-07-25 14:53:08.640 DEBUG 13320 --- [http-nio-8990-exec-8] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@7200ec2
2022-07-25 14:53:08.640 DEBUG 13320 --- [http-nio-8990-exec-8] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:53:08.640 DEBUG 13320 --- [http-nio-8990-exec-8] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://test-server:8990/demo/write
2022-07-25 14:53:08.640 DEBUG 13320 --- [http-nio-8990-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /demo/write] with attributes [hasAuthority('SCOPE_email')]
2022-07-25 14:53:08.640 DEBUG 13320 --- [http-nio-8990-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /demo/write
2022-07-25 14:53:08.641 DEBUG 13320 --- [http-nio-8990-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/demo/write", parameters={}
2022-07-25 14:53:08.641 DEBUG 13320 --- [http-nio-8990-exec-8] d.a.c.CustomAuthorizationRequestResolver : setScopes; scopes: [openid]
2022-07-25 14:53:08.642 DEBUG 13320 --- [http-nio-8990-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2022-07-25 14:53:08.642 DEBUG 13320 --- [http-nio-8990-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:53:23.289 DEBUG 13320 --- [http-nio-8990-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /demo
2022-07-25 14:53:23.289 DEBUG 13320 --- [http-nio-8990-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_email, SCOPE_openid]], User Attributes: [{at_hash=j2x8SRv7EKbiiCnhMn-RlQ, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, email_verified=true, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=zkylF5OSFrAzTCXX-gQU76BeS9PMxKDUP1E0rTgHxYU, sid=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:53:08Z, exp=2022-07-25T12:58:08Z, session_state=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, iat=2022-07-25T12:53:08Z, email=825f9b84-347e-42a4-af9a-8d372812e8a1@oidc.ssi, jti=b15840a4-809a-499e-a079-73bb374ba9e5}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=ECB75E7D19BC5077D3448A42259A26B0], Granted Authorities=[ROLE_USER, SCOPE_email, SCOPE_openid]]]
2022-07-25 14:53:23.289 DEBUG 13320 --- [http-nio-8990-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_email, SCOPE_openid]], User Attributes: [{at_hash=j2x8SRv7EKbiiCnhMn-RlQ, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, email_verified=true, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=zkylF5OSFrAzTCXX-gQU76BeS9PMxKDUP1E0rTgHxYU, sid=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:53:08Z, exp=2022-07-25T12:58:08Z, session_state=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, iat=2022-07-25T12:53:08Z, email=825f9b84-347e-42a4-af9a-8d372812e8a1@oidc.ssi, jti=b15840a4-809a-499e-a079-73bb374ba9e5}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=ECB75E7D19BC5077D3448A42259A26B0], Granted Authorities=[ROLE_USER, SCOPE_email, SCOPE_openid]]]
2022-07-25 14:53:23.290 DEBUG 13320 --- [http-nio-8990-exec-9] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@7a2f1b3f
2022-07-25 14:53:23.290 DEBUG 13320 --- [http-nio-8990-exec-9] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:53:23.290 DEBUG 13320 --- [http-nio-8990-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /demo] with attributes [authenticated]
2022-07-25 14:53:23.290 DEBUG 13320 --- [http-nio-8990-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /demo
2022-07-25 14:53:23.290 DEBUG 13320 --- [http-nio-8990-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/demo", parameters={}
2022-07-25 14:53:23.290 DEBUG 13320 --- [http-nio-8990-exec-9] d.a.c.CustomAuthorizationRequestResolver : setScopes; scopes: [openid]
2022-07-25 14:53:23.291 DEBUG 13320 --- [http-nio-8990-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2022-07-25 14:53:23.291 DEBUG 13320 --- [http-nio-8990-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:53:30.723 DEBUG 13320 --- [http-nio-8990-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /demo/read
2022-07-25 14:53:30.723 DEBUG 13320 --- [http-nio-8990-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_email, SCOPE_openid]], User Attributes: [{at_hash=j2x8SRv7EKbiiCnhMn-RlQ, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, email_verified=true, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=zkylF5OSFrAzTCXX-gQU76BeS9PMxKDUP1E0rTgHxYU, sid=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:53:08Z, exp=2022-07-25T12:58:08Z, session_state=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, iat=2022-07-25T12:53:08Z, email=825f9b84-347e-42a4-af9a-8d372812e8a1@oidc.ssi, jti=b15840a4-809a-499e-a079-73bb374ba9e5}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=ECB75E7D19BC5077D3448A42259A26B0], Granted Authorities=[ROLE_USER, SCOPE_email, SCOPE_openid]]]
2022-07-25 14:53:30.723 DEBUG 13320 --- [http-nio-8990-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_email, SCOPE_openid]], User Attributes: [{at_hash=j2x8SRv7EKbiiCnhMn-RlQ, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, email_verified=true, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=zkylF5OSFrAzTCXX-gQU76BeS9PMxKDUP1E0rTgHxYU, sid=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:53:08Z, exp=2022-07-25T12:58:08Z, session_state=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, iat=2022-07-25T12:53:08Z, email=825f9b84-347e-42a4-af9a-8d372812e8a1@oidc.ssi, jti=b15840a4-809a-499e-a079-73bb374ba9e5}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=ECB75E7D19BC5077D3448A42259A26B0], Granted Authorities=[ROLE_USER, SCOPE_email, SCOPE_openid]]]
2022-07-25 14:53:30.723 DEBUG 13320 --- [http-nio-8990-exec-10] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@36e62674
2022-07-25 14:53:30.723 DEBUG 13320 --- [http-nio-8990-exec-10] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:53:30.723 DEBUG 13320 --- [http-nio-8990-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /demo/read] with attributes [hasAuthority('SCOPE_profile')]
2022-07-25 14:53:30.724 DEBUG 13320 --- [http-nio-8990-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:53:30.728 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /logout?redirect_url=http://test-server:8990/demo/read
2022-07-25 14:53:30.729 DEBUG 13320 --- [http-nio-8990-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_email, SCOPE_openid]], User Attributes: [{at_hash=j2x8SRv7EKbiiCnhMn-RlQ, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, email_verified=true, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=zkylF5OSFrAzTCXX-gQU76BeS9PMxKDUP1E0rTgHxYU, sid=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:53:08Z, exp=2022-07-25T12:58:08Z, session_state=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, iat=2022-07-25T12:53:08Z, email=825f9b84-347e-42a4-af9a-8d372812e8a1@oidc.ssi, jti=b15840a4-809a-499e-a079-73bb374ba9e5}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=ECB75E7D19BC5077D3448A42259A26B0], Granted Authorities=[ROLE_USER, SCOPE_email, SCOPE_openid]]]
2022-07-25 14:53:30.729 DEBUG 13320 --- [http-nio-8990-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_email, SCOPE_openid]], User Attributes: [{at_hash=j2x8SRv7EKbiiCnhMn-RlQ, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, email_verified=true, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=zkylF5OSFrAzTCXX-gQU76BeS9PMxKDUP1E0rTgHxYU, sid=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:53:08Z, exp=2022-07-25T12:58:08Z, session_state=87ffb0b4-4b36-4531-a2ea-d58dd0cd6c95, iat=2022-07-25T12:53:08Z, email=825f9b84-347e-42a4-af9a-8d372812e8a1@oidc.ssi, jti=b15840a4-809a-499e-a079-73bb374ba9e5}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=ECB75E7D19BC5077D3448A42259A26B0], Granted Authorities=[ROLE_USER, SCOPE_email, SCOPE_openid]]]
2022-07-25 14:53:30.729 DEBUG 13320 --- [http-nio-8990-exec-1] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@205027fa
2022-07-25 14:53:30.729 DEBUG 13320 --- [http-nio-8990-exec-1] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:53:30.729 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /logout?redirect_url=http://test-server:8990/demo/read] with attributes [permitAll]
2022-07-25 14:53:30.729 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /logout?redirect_url=http://test-server:8990/demo/read
2022-07-25 14:53:30.729 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/logout?redirect_url=http://test-server:8990/demo/read", parameters={masked}
2022-07-25 14:53:30.730 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session 8AEF8366C8CFC67C5948DC8957013F2A
2022-07-25 14:53:30.730 DEBUG 13320 --- [http-nio-8990-exec-1] d.a.c.CustomAuthorizationRequestResolver : setScopes; scopes: [openid, profile]
2022-07-25 14:53:30.730 DEBUG 13320 --- [http-nio-8990-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:53:30.730 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2022-07-25 14:53:30.730 DEBUG 13320 --- [http-nio-8990-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:53:30.730 DEBUG 13320 --- [http-nio-8990-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:53:30.799 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /demo/read
2022-07-25 14:53:30.799 DEBUG 13320 --- [http-nio-8990-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:53:30.799 DEBUG 13320 --- [http-nio-8990-exec-2] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@2727d2de
2022-07-25 14:53:30.799 DEBUG 13320 --- [http-nio-8990-exec-2] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:53:30.799 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2022-07-25 14:53:30.800 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /demo/read] with attributes [hasAuthority('SCOPE_profile')]
2022-07-25 14:53:30.800 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://test-server:8990/demo/read to session
2022-07-25 14:53:30.801 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://test-server:8990/oauth2/authorization/demo-app-oidc
2022-07-25 14:53:30.801 DEBUG 13320 --- [http-nio-8990-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:53:30.801 DEBUG 13320 --- [http-nio-8990-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:53:30.801 DEBUG 13320 --- [http-nio-8990-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:53:30.807 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/demo-app-oidc
2022-07-25 14:53:30.807 DEBUG 13320 --- [http-nio-8990-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:53:30.807 DEBUG 13320 --- [http-nio-8990-exec-3] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@3bea35a7
2022-07-25 14:53:30.808 DEBUG 13320 --- [http-nio-8990-exec-3] d.a.c.CustomAuthorizationRequestResolver : resolve1; scopes: [openid, profile]
2022-07-25 14:53:30.808 DEBUG 13320 --- [http-nio-8990-exec-3] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest@75d7f57e
2022-07-25 14:53:30.808 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/auth?response_type=code&client_id=demo-app&scope=openid%20profile&state=9TFfcp9-N7JGnaYww0ujtb3cjxTR65Zb8HQ6tvFyTNs%3D&redirect_uri=http://test-server:8990/login/oauth2/code/demo-app-oidc&nonce=H8gkY3D20-bHh4hU0zhYy7TS1Cv7SJ4ygpwsBQuO8n0
2022-07-25 14:53:30.808 DEBUG 13320 --- [http-nio-8990-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:53:30.808 DEBUG 13320 --- [http-nio-8990-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:53:30.808 DEBUG 13320 --- [http-nio-8990-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:53:33.161 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/demo-app-oidc?state=9TFfcp9-N7JGnaYww0ujtb3cjxTR65Zb8HQ6tvFyTNs%3D&session_state=2483a36d-cb80-4f4a-b993-625225caac58&code=14409431-2f5b-4eb5-9f87-3826749d9d45.2483a36d-cb80-4f4a-b993-625225caac58.52c9c697-c860-4edd-bde4-5e03904fdb44
2022-07-25 14:53:33.161 DEBUG 13320 --- [http-nio-8990-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:53:33.161 DEBUG 13320 --- [http-nio-8990-exec-4] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@1c73316
2022-07-25 14:53:33.162 DEBUG 13320 --- [http-nio-8990-exec-4] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:53:33.162 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.web.client.RestTemplate              : HTTP POST https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/token
2022-07-25 14:53:33.162 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2022-07-25 14:53:33.162 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.web.client.RestTemplate              : Writing [{grant_type=[authorization_code], code=[14409431-2f5b-4eb5-9f87-3826749d9d45.2483a36d-cb80-4f4a-b993-625225caac58.52c9c697-c860-4edd-bde4-5e03904fdb44], redirect_uri=[http://test-server:8990/login/oauth2/code/demo-app-oidc]}] as "application/x-www-form-urlencoded;charset=UTF-8"
2022-07-25 14:53:33.342 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.web.client.RestTemplate              : Response 200 OK
2022-07-25 14:53:33.342 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.web.client.RestTemplate              : Reading to [org.springframework.security.oauth2.core.endpoint.OAuth2AccessTokenResponse] as "application/json"
2022-07-25 14:53:33.345 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.web.client.RestTemplate              : HTTP GET https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/userinfo
2022-07-25 14:53:33.345 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2022-07-25 14:53:33.402 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.web.client.RestTemplate              : Response 200 OK
2022-07-25 14:53:33.403 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.web.client.RestTemplate              : Reading to [java.util.Map<java.lang.String, java.lang.Object>]
2022-07-25 14:53:33.403 DEBUG 13320 --- [http-nio-8990-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 7182F8F45C9717CF473363E25CB24E2E
2022-07-25 14:53:33.404 DEBUG 13320 --- [http-nio-8990-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=l1Z9ytdXVX6iYL_tdFr0kA, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, given_name=825f9b84-347e-42a4-af9a-8d372812e8a1, nonce=H8gkY3D20-bHh4hU0zhYy7TS1Cv7SJ4ygpwsBQuO8n0, sid=2483a36d-cb80-4f4a-b993-625225caac58, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:53:33Z, name=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, exp=2022-07-25T12:58:33Z, session_state=2483a36d-cb80-4f4a-b993-625225caac58, family_name=1658753522648, iat=2022-07-25T12:53:33Z, jti=0fb1fe70-be92-4017-9981-25e78087b871}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=7182F8F45C9717CF473363E25CB24E2E], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]
2022-07-25 14:53:33.404 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://test-server:8990/demo/read
2022-07-25 14:53:33.404 DEBUG 13320 --- [http-nio-8990-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=l1Z9ytdXVX6iYL_tdFr0kA, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, given_name=825f9b84-347e-42a4-af9a-8d372812e8a1, nonce=H8gkY3D20-bHh4hU0zhYy7TS1Cv7SJ4ygpwsBQuO8n0, sid=2483a36d-cb80-4f4a-b993-625225caac58, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:53:33Z, name=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, exp=2022-07-25T12:58:33Z, session_state=2483a36d-cb80-4f4a-b993-625225caac58, family_name=1658753522648, iat=2022-07-25T12:53:33Z, jti=0fb1fe70-be92-4017-9981-25e78087b871}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=7182F8F45C9717CF473363E25CB24E2E], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7ad6a7bf]
2022-07-25 14:53:33.404 DEBUG 13320 --- [http-nio-8990-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=l1Z9ytdXVX6iYL_tdFr0kA, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, given_name=825f9b84-347e-42a4-af9a-8d372812e8a1, nonce=H8gkY3D20-bHh4hU0zhYy7TS1Cv7SJ4ygpwsBQuO8n0, sid=2483a36d-cb80-4f4a-b993-625225caac58, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:53:33Z, name=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, exp=2022-07-25T12:58:33Z, session_state=2483a36d-cb80-4f4a-b993-625225caac58, family_name=1658753522648, iat=2022-07-25T12:53:33Z, jti=0fb1fe70-be92-4017-9981-25e78087b871}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=7182F8F45C9717CF473363E25CB24E2E], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7ad6a7bf]
2022-07-25 14:53:33.404 DEBUG 13320 --- [http-nio-8990-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:53:33.413 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /demo/read
2022-07-25 14:53:33.414 DEBUG 13320 --- [http-nio-8990-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=l1Z9ytdXVX6iYL_tdFr0kA, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, given_name=825f9b84-347e-42a4-af9a-8d372812e8a1, nonce=H8gkY3D20-bHh4hU0zhYy7TS1Cv7SJ4ygpwsBQuO8n0, sid=2483a36d-cb80-4f4a-b993-625225caac58, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:53:33Z, name=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, exp=2022-07-25T12:58:33Z, session_state=2483a36d-cb80-4f4a-b993-625225caac58, family_name=1658753522648, iat=2022-07-25T12:53:33Z, jti=0fb1fe70-be92-4017-9981-25e78087b871}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=7182F8F45C9717CF473363E25CB24E2E], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]]
2022-07-25 14:53:33.414 DEBUG 13320 --- [http-nio-8990-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [0db97110-f0cf-4b97-bbb5-2c38238a0af7], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=l1Z9ytdXVX6iYL_tdFr0kA, sub=0db97110-f0cf-4b97-bbb5-2c38238a0af7, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, given_name=825f9b84-347e-42a4-af9a-8d372812e8a1, nonce=H8gkY3D20-bHh4hU0zhYy7TS1Cv7SJ4ygpwsBQuO8n0, sid=2483a36d-cb80-4f4a-b993-625225caac58, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:53:33Z, name=825f9b84-347e-42a4-af9a-8d372812e8a1 1658753522648, exp=2022-07-25T12:58:33Z, session_state=2483a36d-cb80-4f4a-b993-625225caac58, family_name=1658753522648, iat=2022-07-25T12:53:33Z, jti=0fb1fe70-be92-4017-9981-25e78087b871}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=7182F8F45C9717CF473363E25CB24E2E], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]]
2022-07-25 14:53:33.414 DEBUG 13320 --- [http-nio-8990-exec-5] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@6549ab6c
2022-07-25 14:53:33.414 DEBUG 13320 --- [http-nio-8990-exec-5] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:53:33.414 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://test-server:8990/demo/read
2022-07-25 14:53:33.415 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /demo/read] with attributes [hasAuthority('SCOPE_profile')]
2022-07-25 14:53:33.415 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /demo/read
2022-07-25 14:53:33.415 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/demo/read", parameters={}
2022-07-25 14:53:33.415 DEBUG 13320 --- [http-nio-8990-exec-5] d.a.c.CustomAuthorizationRequestResolver : setScopes; scopes: [openid]
2022-07-25 14:53:33.417 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2022-07-25 14:53:33.417 DEBUG 13320 --- [http-nio-8990-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:54:37.461 DEBUG 13320 --- [http-nio-8990-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /demo
2022-07-25 14:54:37.462 DEBUG 13320 --- [http-nio-8990-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:54:37.462 DEBUG 13320 --- [http-nio-8990-exec-8] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@2107324d
2022-07-25 14:54:37.462 DEBUG 13320 --- [http-nio-8990-exec-8] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:54:37.462 DEBUG 13320 --- [http-nio-8990-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2022-07-25 14:54:37.462 DEBUG 13320 --- [http-nio-8990-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /demo] with attributes [authenticated]
2022-07-25 14:54:37.463 DEBUG 13320 --- [http-nio-8990-exec-8] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://test-server:8990/demo to session
2022-07-25 14:54:37.463 DEBUG 13320 --- [http-nio-8990-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://test-server:8990/oauth2/authorization/demo-app-oidc
2022-07-25 14:54:37.463 DEBUG 13320 --- [http-nio-8990-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:54:37.463 DEBUG 13320 --- [http-nio-8990-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:54:37.463 DEBUG 13320 --- [http-nio-8990-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:54:37.470 DEBUG 13320 --- [http-nio-8990-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/demo-app-oidc
2022-07-25 14:54:37.471 DEBUG 13320 --- [http-nio-8990-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:54:37.471 DEBUG 13320 --- [http-nio-8990-exec-9] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@7e1090a2
2022-07-25 14:54:37.471 DEBUG 13320 --- [http-nio-8990-exec-9] d.a.c.CustomAuthorizationRequestResolver : resolve1; scopes: [openid]
2022-07-25 14:54:37.471 DEBUG 13320 --- [http-nio-8990-exec-9] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest@3b121104
2022-07-25 14:54:37.471 DEBUG 13320 --- [http-nio-8990-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/auth?response_type=code&client_id=demo-app&scope=openid&state=9jSUSCLsKwqlGwCfgNqyfcFNwQHCtKeeavkh4vWJ8zU%3D&redirect_uri=http://test-server:8990/login/oauth2/code/demo-app-oidc&nonce=eIL_d3elG5CNLIhb8PUsW9ReJy0oN30ewsptbfausz4
2022-07-25 14:54:37.472 DEBUG 13320 --- [http-nio-8990-exec-9] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:54:37.472 DEBUG 13320 --- [http-nio-8990-exec-9] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:54:37.472 DEBUG 13320 --- [http-nio-8990-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:54:48.769 DEBUG 13320 --- [http-nio-8990-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/demo-app-oidc?state=9jSUSCLsKwqlGwCfgNqyfcFNwQHCtKeeavkh4vWJ8zU%3D&session_state=7e10467f-e3b9-4936-9a3b-adf31f16cab9&code=7154428d-6f5d-4cb3-bdf1-b2a5ae7490be.7e10467f-e3b9-4936-9a3b-adf31f16cab9.52c9c697-c860-4edd-bde4-5e03904fdb44
2022-07-25 14:54:48.769 DEBUG 13320 --- [http-nio-8990-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:54:48.770 DEBUG 13320 --- [http-nio-8990-exec-10] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@73e4becc
2022-07-25 14:54:48.770 DEBUG 13320 --- [http-nio-8990-exec-10] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:54:48.770 DEBUG 13320 --- [http-nio-8990-exec-10] o.s.web.client.RestTemplate              : HTTP POST https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/token
2022-07-25 14:54:48.770 DEBUG 13320 --- [http-nio-8990-exec-10] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2022-07-25 14:54:48.770 DEBUG 13320 --- [http-nio-8990-exec-10] o.s.web.client.RestTemplate              : Writing [{grant_type=[authorization_code], code=[7154428d-6f5d-4cb3-bdf1-b2a5ae7490be.7e10467f-e3b9-4936-9a3b-adf31f16cab9.52c9c697-c860-4edd-bde4-5e03904fdb44], redirect_uri=[http://test-server:8990/login/oauth2/code/demo-app-oidc]}] as "application/x-www-form-urlencoded;charset=UTF-8"
2022-07-25 14:54:48.952 DEBUG 13320 --- [http-nio-8990-exec-10] o.s.web.client.RestTemplate              : Response 200 OK
2022-07-25 14:54:48.952 DEBUG 13320 --- [http-nio-8990-exec-10] o.s.web.client.RestTemplate              : Reading to [org.springframework.security.oauth2.core.endpoint.OAuth2AccessTokenResponse] as "application/json"
2022-07-25 14:54:48.954 DEBUG 13320 --- [http-nio-8990-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B3E177B02B8FFF872488FB87A945226E
2022-07-25 14:54:48.954 DEBUG 13320 --- [http-nio-8990-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=8MJtaF6fzVusCitWKGVN4Q, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=eIL_d3elG5CNLIhb8PUsW9ReJy0oN30ewsptbfausz4, sid=7e10467f-e3b9-4936-9a3b-adf31f16cab9, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:54:48Z, exp=2022-07-25T12:59:48Z, session_state=7e10467f-e3b9-4936-9a3b-adf31f16cab9, iat=2022-07-25T12:54:48Z, jti=c7c86695-37a7-444a-b85b-a72950c6617e}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B3E177B02B8FFF872488FB87A945226E], Granted Authorities=[ROLE_USER, SCOPE_openid]]
2022-07-25 14:54:48.954 DEBUG 13320 --- [http-nio-8990-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://test-server:8990/demo
2022-07-25 14:54:48.954 DEBUG 13320 --- [http-nio-8990-exec-10] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=8MJtaF6fzVusCitWKGVN4Q, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=eIL_d3elG5CNLIhb8PUsW9ReJy0oN30ewsptbfausz4, sid=7e10467f-e3b9-4936-9a3b-adf31f16cab9, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:54:48Z, exp=2022-07-25T12:59:48Z, session_state=7e10467f-e3b9-4936-9a3b-adf31f16cab9, iat=2022-07-25T12:54:48Z, jti=c7c86695-37a7-444a-b85b-a72950c6617e}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B3E177B02B8FFF872488FB87A945226E], Granted Authorities=[ROLE_USER, SCOPE_openid]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@425dce89]
2022-07-25 14:54:48.955 DEBUG 13320 --- [http-nio-8990-exec-10] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=8MJtaF6fzVusCitWKGVN4Q, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=eIL_d3elG5CNLIhb8PUsW9ReJy0oN30ewsptbfausz4, sid=7e10467f-e3b9-4936-9a3b-adf31f16cab9, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:54:48Z, exp=2022-07-25T12:59:48Z, session_state=7e10467f-e3b9-4936-9a3b-adf31f16cab9, iat=2022-07-25T12:54:48Z, jti=c7c86695-37a7-444a-b85b-a72950c6617e}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B3E177B02B8FFF872488FB87A945226E], Granted Authorities=[ROLE_USER, SCOPE_openid]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@425dce89]
2022-07-25 14:54:48.955 DEBUG 13320 --- [http-nio-8990-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:54:48.962 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /demo
2022-07-25 14:54:48.962 DEBUG 13320 --- [http-nio-8990-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=8MJtaF6fzVusCitWKGVN4Q, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=eIL_d3elG5CNLIhb8PUsW9ReJy0oN30ewsptbfausz4, sid=7e10467f-e3b9-4936-9a3b-adf31f16cab9, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:54:48Z, exp=2022-07-25T12:59:48Z, session_state=7e10467f-e3b9-4936-9a3b-adf31f16cab9, iat=2022-07-25T12:54:48Z, jti=c7c86695-37a7-444a-b85b-a72950c6617e}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B3E177B02B8FFF872488FB87A945226E], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-25 14:54:48.962 DEBUG 13320 --- [http-nio-8990-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=8MJtaF6fzVusCitWKGVN4Q, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=eIL_d3elG5CNLIhb8PUsW9ReJy0oN30ewsptbfausz4, sid=7e10467f-e3b9-4936-9a3b-adf31f16cab9, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:54:48Z, exp=2022-07-25T12:59:48Z, session_state=7e10467f-e3b9-4936-9a3b-adf31f16cab9, iat=2022-07-25T12:54:48Z, jti=c7c86695-37a7-444a-b85b-a72950c6617e}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B3E177B02B8FFF872488FB87A945226E], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-25 14:54:48.962 DEBUG 13320 --- [http-nio-8990-exec-1] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@7f3891af
2022-07-25 14:54:48.962 DEBUG 13320 --- [http-nio-8990-exec-1] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:54:48.962 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://test-server:8990/demo
2022-07-25 14:54:48.963 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /demo] with attributes [authenticated]
2022-07-25 14:54:48.963 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /demo
2022-07-25 14:54:48.963 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/demo", parameters={}
2022-07-25 14:54:48.963 DEBUG 13320 --- [http-nio-8990-exec-1] d.a.c.CustomAuthorizationRequestResolver : setScopes; scopes: [openid]
2022-07-25 14:54:48.965 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2022-07-25 14:54:48.965 DEBUG 13320 --- [http-nio-8990-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:55:02.837 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /demo/read
2022-07-25 14:55:02.838 DEBUG 13320 --- [http-nio-8990-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=8MJtaF6fzVusCitWKGVN4Q, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=eIL_d3elG5CNLIhb8PUsW9ReJy0oN30ewsptbfausz4, sid=7e10467f-e3b9-4936-9a3b-adf31f16cab9, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:54:48Z, exp=2022-07-25T12:59:48Z, session_state=7e10467f-e3b9-4936-9a3b-adf31f16cab9, iat=2022-07-25T12:54:48Z, jti=c7c86695-37a7-444a-b85b-a72950c6617e}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B3E177B02B8FFF872488FB87A945226E], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-25 14:55:02.838 DEBUG 13320 --- [http-nio-8990-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=8MJtaF6fzVusCitWKGVN4Q, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=eIL_d3elG5CNLIhb8PUsW9ReJy0oN30ewsptbfausz4, sid=7e10467f-e3b9-4936-9a3b-adf31f16cab9, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:54:48Z, exp=2022-07-25T12:59:48Z, session_state=7e10467f-e3b9-4936-9a3b-adf31f16cab9, iat=2022-07-25T12:54:48Z, jti=c7c86695-37a7-444a-b85b-a72950c6617e}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B3E177B02B8FFF872488FB87A945226E], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-25 14:55:02.838 DEBUG 13320 --- [http-nio-8990-exec-2] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@6ab102e2
2022-07-25 14:55:02.838 DEBUG 13320 --- [http-nio-8990-exec-2] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:55:02.838 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /demo/read] with attributes [hasAuthority('SCOPE_profile')]
2022-07-25 14:55:02.838 DEBUG 13320 --- [http-nio-8990-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:55:02.845 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /logout?redirect_url=http://test-server:8990/demo/read
2022-07-25 14:55:02.845 DEBUG 13320 --- [http-nio-8990-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=8MJtaF6fzVusCitWKGVN4Q, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=eIL_d3elG5CNLIhb8PUsW9ReJy0oN30ewsptbfausz4, sid=7e10467f-e3b9-4936-9a3b-adf31f16cab9, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:54:48Z, exp=2022-07-25T12:59:48Z, session_state=7e10467f-e3b9-4936-9a3b-adf31f16cab9, iat=2022-07-25T12:54:48Z, jti=c7c86695-37a7-444a-b85b-a72950c6617e}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B3E177B02B8FFF872488FB87A945226E], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-25 14:55:02.845 DEBUG 13320 --- [http-nio-8990-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_openid]], User Attributes: [{at_hash=8MJtaF6fzVusCitWKGVN4Q, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=eIL_d3elG5CNLIhb8PUsW9ReJy0oN30ewsptbfausz4, sid=7e10467f-e3b9-4936-9a3b-adf31f16cab9, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:54:48Z, exp=2022-07-25T12:59:48Z, session_state=7e10467f-e3b9-4936-9a3b-adf31f16cab9, iat=2022-07-25T12:54:48Z, jti=c7c86695-37a7-444a-b85b-a72950c6617e}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B3E177B02B8FFF872488FB87A945226E], Granted Authorities=[ROLE_USER, SCOPE_openid]]]
2022-07-25 14:55:02.845 DEBUG 13320 --- [http-nio-8990-exec-3] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@43792d05
2022-07-25 14:55:02.845 DEBUG 13320 --- [http-nio-8990-exec-3] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:55:02.846 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /logout?redirect_url=http://test-server:8990/demo/read] with attributes [permitAll]
2022-07-25 14:55:02.846 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /logout?redirect_url=http://test-server:8990/demo/read
2022-07-25 14:55:02.846 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/logout?redirect_url=http://test-server:8990/demo/read", parameters={masked}
2022-07-25 14:55:02.846 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session A3A0C9105F2A50D257C576817DF6905F
2022-07-25 14:55:02.846 DEBUG 13320 --- [http-nio-8990-exec-3] d.a.c.CustomAuthorizationRequestResolver : setScopes; scopes: [openid, profile]
2022-07-25 14:55:02.846 DEBUG 13320 --- [http-nio-8990-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:55:02.846 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2022-07-25 14:55:02.847 DEBUG 13320 --- [http-nio-8990-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:55:02.847 DEBUG 13320 --- [http-nio-8990-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:55:02.912 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /demo/read
2022-07-25 14:55:02.912 DEBUG 13320 --- [http-nio-8990-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:55:02.913 DEBUG 13320 --- [http-nio-8990-exec-4] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@52eea56a
2022-07-25 14:55:02.913 DEBUG 13320 --- [http-nio-8990-exec-4] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:55:02.913 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2022-07-25 14:55:02.913 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /demo/read] with attributes [hasAuthority('SCOPE_profile')]
2022-07-25 14:55:02.914 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://test-server:8990/demo/read to session
2022-07-25 14:55:02.914 DEBUG 13320 --- [http-nio-8990-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://test-server:8990/oauth2/authorization/demo-app-oidc
2022-07-25 14:55:02.914 DEBUG 13320 --- [http-nio-8990-exec-4] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:55:02.914 DEBUG 13320 --- [http-nio-8990-exec-4] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:55:02.914 DEBUG 13320 --- [http-nio-8990-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:55:02.920 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/demo-app-oidc
2022-07-25 14:55:02.920 DEBUG 13320 --- [http-nio-8990-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:55:02.921 DEBUG 13320 --- [http-nio-8990-exec-5] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@619c8bfe
2022-07-25 14:55:02.921 DEBUG 13320 --- [http-nio-8990-exec-5] d.a.c.CustomAuthorizationRequestResolver : resolve1; scopes: [openid, profile]
2022-07-25 14:55:02.921 DEBUG 13320 --- [http-nio-8990-exec-5] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest@14644030
2022-07-25 14:55:02.921 DEBUG 13320 --- [http-nio-8990-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/auth?response_type=code&client_id=demo-app&scope=openid%20profile&state=_qIK-CElbib75jVn3iFLbBJrf7o4bp8e6tgomwJqbQk%3D&redirect_uri=http://test-server:8990/login/oauth2/code/demo-app-oidc&nonce=HFcV2HdpUhhq59xT4UdA8rAExiQ8qS90Kv7csxkMMfw
2022-07-25 14:55:02.922 DEBUG 13320 --- [http-nio-8990-exec-5] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:55:02.922 DEBUG 13320 --- [http-nio-8990-exec-5] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:55:02.922 DEBUG 13320 --- [http-nio-8990-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:55:05.410 DEBUG 13320 --- [http-nio-8990-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/demo-app-oidc?state=_qIK-CElbib75jVn3iFLbBJrf7o4bp8e6tgomwJqbQk%3D&session_state=6c027146-1503-4610-9fe2-11e66c6cd1a5&code=1fa5c94f-e07a-47b5-8398-c1a76439f8e7.6c027146-1503-4610-9fe2-11e66c6cd1a5.52c9c697-c860-4edd-bde4-5e03904fdb44
2022-07-25 14:55:05.410 DEBUG 13320 --- [http-nio-8990-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:55:05.411 DEBUG 13320 --- [http-nio-8990-exec-6] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@74f2a61d
2022-07-25 14:55:05.411 DEBUG 13320 --- [http-nio-8990-exec-6] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:55:05.412 DEBUG 13320 --- [http-nio-8990-exec-6] o.s.web.client.RestTemplate              : HTTP POST https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/token
2022-07-25 14:55:05.412 DEBUG 13320 --- [http-nio-8990-exec-6] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2022-07-25 14:55:05.412 DEBUG 13320 --- [http-nio-8990-exec-6] o.s.web.client.RestTemplate              : Writing [{grant_type=[authorization_code], code=[1fa5c94f-e07a-47b5-8398-c1a76439f8e7.6c027146-1503-4610-9fe2-11e66c6cd1a5.52c9c697-c860-4edd-bde4-5e03904fdb44], redirect_uri=[http://test-server:8990/login/oauth2/code/demo-app-oidc]}] as "application/x-www-form-urlencoded;charset=UTF-8"
2022-07-25 14:55:05.591 DEBUG 13320 --- [http-nio-8990-exec-6] o.s.web.client.RestTemplate              : Response 200 OK
2022-07-25 14:55:05.591 DEBUG 13320 --- [http-nio-8990-exec-6] o.s.web.client.RestTemplate              : Reading to [org.springframework.security.oauth2.core.endpoint.OAuth2AccessTokenResponse] as "application/json"
2022-07-25 14:55:05.593 DEBUG 13320 --- [http-nio-8990-exec-6] o.s.web.client.RestTemplate              : HTTP GET https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/userinfo
2022-07-25 14:55:05.593 DEBUG 13320 --- [http-nio-8990-exec-6] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2022-07-25 14:55:05.651 DEBUG 13320 --- [http-nio-8990-exec-6] o.s.web.client.RestTemplate              : Response 200 OK
2022-07-25 14:55:05.651 DEBUG 13320 --- [http-nio-8990-exec-6] o.s.web.client.RestTemplate              : Reading to [java.util.Map<java.lang.String, java.lang.Object>]
2022-07-25 14:55:05.652 DEBUG 13320 --- [http-nio-8990-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 7374E243F3C54755F27A6A0F1EB3CEA5
2022-07-25 14:55:05.653 DEBUG 13320 --- [http-nio-8990-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=UY02soGeCQzWauu44Iv_DQ, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=79788d47-59e6-4f69-a694-d6562743806f 1658753688408, given_name=79788d47-59e6-4f69-a694-d6562743806f, nonce=HFcV2HdpUhhq59xT4UdA8rAExiQ8qS90Kv7csxkMMfw, sid=6c027146-1503-4610-9fe2-11e66c6cd1a5, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:55:05Z, name=79788d47-59e6-4f69-a694-d6562743806f 1658753688408, exp=2022-07-25T13:00:05Z, session_state=6c027146-1503-4610-9fe2-11e66c6cd1a5, family_name=1658753688408, iat=2022-07-25T12:55:05Z, jti=3ca0d477-463d-4d6e-9f97-6837e3969eef}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=7374E243F3C54755F27A6A0F1EB3CEA5], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]
2022-07-25 14:55:05.653 DEBUG 13320 --- [http-nio-8990-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://test-server:8990/demo/read
2022-07-25 14:55:05.653 DEBUG 13320 --- [http-nio-8990-exec-6] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=UY02soGeCQzWauu44Iv_DQ, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=79788d47-59e6-4f69-a694-d6562743806f 1658753688408, given_name=79788d47-59e6-4f69-a694-d6562743806f, nonce=HFcV2HdpUhhq59xT4UdA8rAExiQ8qS90Kv7csxkMMfw, sid=6c027146-1503-4610-9fe2-11e66c6cd1a5, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:55:05Z, name=79788d47-59e6-4f69-a694-d6562743806f 1658753688408, exp=2022-07-25T13:00:05Z, session_state=6c027146-1503-4610-9fe2-11e66c6cd1a5, family_name=1658753688408, iat=2022-07-25T12:55:05Z, jti=3ca0d477-463d-4d6e-9f97-6837e3969eef}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=7374E243F3C54755F27A6A0F1EB3CEA5], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@19b9e411]
2022-07-25 14:55:05.654 DEBUG 13320 --- [http-nio-8990-exec-6] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=UY02soGeCQzWauu44Iv_DQ, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=79788d47-59e6-4f69-a694-d6562743806f 1658753688408, given_name=79788d47-59e6-4f69-a694-d6562743806f, nonce=HFcV2HdpUhhq59xT4UdA8rAExiQ8qS90Kv7csxkMMfw, sid=6c027146-1503-4610-9fe2-11e66c6cd1a5, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:55:05Z, name=79788d47-59e6-4f69-a694-d6562743806f 1658753688408, exp=2022-07-25T13:00:05Z, session_state=6c027146-1503-4610-9fe2-11e66c6cd1a5, family_name=1658753688408, iat=2022-07-25T12:55:05Z, jti=3ca0d477-463d-4d6e-9f97-6837e3969eef}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=7374E243F3C54755F27A6A0F1EB3CEA5], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@19b9e411]
2022-07-25 14:55:05.654 DEBUG 13320 --- [http-nio-8990-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:55:05.663 DEBUG 13320 --- [http-nio-8990-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /demo/read
2022-07-25 14:55:05.663 DEBUG 13320 --- [http-nio-8990-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=UY02soGeCQzWauu44Iv_DQ, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=79788d47-59e6-4f69-a694-d6562743806f 1658753688408, given_name=79788d47-59e6-4f69-a694-d6562743806f, nonce=HFcV2HdpUhhq59xT4UdA8rAExiQ8qS90Kv7csxkMMfw, sid=6c027146-1503-4610-9fe2-11e66c6cd1a5, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:55:05Z, name=79788d47-59e6-4f69-a694-d6562743806f 1658753688408, exp=2022-07-25T13:00:05Z, session_state=6c027146-1503-4610-9fe2-11e66c6cd1a5, family_name=1658753688408, iat=2022-07-25T12:55:05Z, jti=3ca0d477-463d-4d6e-9f97-6837e3969eef}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=7374E243F3C54755F27A6A0F1EB3CEA5], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]]
2022-07-25 14:55:05.664 DEBUG 13320 --- [http-nio-8990-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=UY02soGeCQzWauu44Iv_DQ, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=79788d47-59e6-4f69-a694-d6562743806f 1658753688408, given_name=79788d47-59e6-4f69-a694-d6562743806f, nonce=HFcV2HdpUhhq59xT4UdA8rAExiQ8qS90Kv7csxkMMfw, sid=6c027146-1503-4610-9fe2-11e66c6cd1a5, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:55:05Z, name=79788d47-59e6-4f69-a694-d6562743806f 1658753688408, exp=2022-07-25T13:00:05Z, session_state=6c027146-1503-4610-9fe2-11e66c6cd1a5, family_name=1658753688408, iat=2022-07-25T12:55:05Z, jti=3ca0d477-463d-4d6e-9f97-6837e3969eef}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=7374E243F3C54755F27A6A0F1EB3CEA5], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]]
2022-07-25 14:55:05.664 DEBUG 13320 --- [http-nio-8990-exec-7] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@19f46326
2022-07-25 14:55:05.664 DEBUG 13320 --- [http-nio-8990-exec-7] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:55:05.664 DEBUG 13320 --- [http-nio-8990-exec-7] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://test-server:8990/demo/read
2022-07-25 14:55:05.664 DEBUG 13320 --- [http-nio-8990-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /demo/read] with attributes [hasAuthority('SCOPE_profile')]
2022-07-25 14:55:05.664 DEBUG 13320 --- [http-nio-8990-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /demo/read
2022-07-25 14:55:05.664 DEBUG 13320 --- [http-nio-8990-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/demo/read", parameters={}
2022-07-25 14:55:05.665 DEBUG 13320 --- [http-nio-8990-exec-7] d.a.c.CustomAuthorizationRequestResolver : setScopes; scopes: [openid]
2022-07-25 14:55:05.665 DEBUG 13320 --- [http-nio-8990-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2022-07-25 14:55:05.666 DEBUG 13320 --- [http-nio-8990-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:55:19.180 DEBUG 13320 --- [http-nio-8990-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /demo/write
2022-07-25 14:55:19.180 DEBUG 13320 --- [http-nio-8990-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=UY02soGeCQzWauu44Iv_DQ, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=79788d47-59e6-4f69-a694-d6562743806f 1658753688408, given_name=79788d47-59e6-4f69-a694-d6562743806f, nonce=HFcV2HdpUhhq59xT4UdA8rAExiQ8qS90Kv7csxkMMfw, sid=6c027146-1503-4610-9fe2-11e66c6cd1a5, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:55:05Z, name=79788d47-59e6-4f69-a694-d6562743806f 1658753688408, exp=2022-07-25T13:00:05Z, session_state=6c027146-1503-4610-9fe2-11e66c6cd1a5, family_name=1658753688408, iat=2022-07-25T12:55:05Z, jti=3ca0d477-463d-4d6e-9f97-6837e3969eef}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=7374E243F3C54755F27A6A0F1EB3CEA5], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]]
2022-07-25 14:55:19.181 DEBUG 13320 --- [http-nio-8990-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=UY02soGeCQzWauu44Iv_DQ, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=79788d47-59e6-4f69-a694-d6562743806f 1658753688408, given_name=79788d47-59e6-4f69-a694-d6562743806f, nonce=HFcV2HdpUhhq59xT4UdA8rAExiQ8qS90Kv7csxkMMfw, sid=6c027146-1503-4610-9fe2-11e66c6cd1a5, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:55:05Z, name=79788d47-59e6-4f69-a694-d6562743806f 1658753688408, exp=2022-07-25T13:00:05Z, session_state=6c027146-1503-4610-9fe2-11e66c6cd1a5, family_name=1658753688408, iat=2022-07-25T12:55:05Z, jti=3ca0d477-463d-4d6e-9f97-6837e3969eef}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=7374E243F3C54755F27A6A0F1EB3CEA5], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]]
2022-07-25 14:55:19.181 DEBUG 13320 --- [http-nio-8990-exec-8] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5a0e5725
2022-07-25 14:55:19.181 DEBUG 13320 --- [http-nio-8990-exec-8] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:55:19.181 DEBUG 13320 --- [http-nio-8990-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /demo/write] with attributes [hasAuthority('SCOPE_email')]
2022-07-25 14:55:19.181 DEBUG 13320 --- [http-nio-8990-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:55:19.188 DEBUG 13320 --- [http-nio-8990-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /logout?redirect_url=http://test-server:8990/demo/write
2022-07-25 14:55:19.188 DEBUG 13320 --- [http-nio-8990-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=UY02soGeCQzWauu44Iv_DQ, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=79788d47-59e6-4f69-a694-d6562743806f 1658753688408, given_name=79788d47-59e6-4f69-a694-d6562743806f, nonce=HFcV2HdpUhhq59xT4UdA8rAExiQ8qS90Kv7csxkMMfw, sid=6c027146-1503-4610-9fe2-11e66c6cd1a5, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:55:05Z, name=79788d47-59e6-4f69-a694-d6562743806f 1658753688408, exp=2022-07-25T13:00:05Z, session_state=6c027146-1503-4610-9fe2-11e66c6cd1a5, family_name=1658753688408, iat=2022-07-25T12:55:05Z, jti=3ca0d477-463d-4d6e-9f97-6837e3969eef}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=7374E243F3C54755F27A6A0F1EB3CEA5], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]]
2022-07-25 14:55:19.188 DEBUG 13320 --- [http-nio-8990-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=UY02soGeCQzWauu44Iv_DQ, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, preferred_username=79788d47-59e6-4f69-a694-d6562743806f 1658753688408, given_name=79788d47-59e6-4f69-a694-d6562743806f, nonce=HFcV2HdpUhhq59xT4UdA8rAExiQ8qS90Kv7csxkMMfw, sid=6c027146-1503-4610-9fe2-11e66c6cd1a5, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:55:05Z, name=79788d47-59e6-4f69-a694-d6562743806f 1658753688408, exp=2022-07-25T13:00:05Z, session_state=6c027146-1503-4610-9fe2-11e66c6cd1a5, family_name=1658753688408, iat=2022-07-25T12:55:05Z, jti=3ca0d477-463d-4d6e-9f97-6837e3969eef}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=7374E243F3C54755F27A6A0F1EB3CEA5], Granted Authorities=[ROLE_USER, SCOPE_openid, SCOPE_profile]]]
2022-07-25 14:55:19.188 DEBUG 13320 --- [http-nio-8990-exec-9] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@8974bdf
2022-07-25 14:55:19.188 DEBUG 13320 --- [http-nio-8990-exec-9] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:55:19.188 DEBUG 13320 --- [http-nio-8990-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /logout?redirect_url=http://test-server:8990/demo/write] with attributes [permitAll]
2022-07-25 14:55:19.189 DEBUG 13320 --- [http-nio-8990-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /logout?redirect_url=http://test-server:8990/demo/write
2022-07-25 14:55:19.189 DEBUG 13320 --- [http-nio-8990-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/logout?redirect_url=http://test-server:8990/demo/write", parameters={masked}
2022-07-25 14:55:19.189 DEBUG 13320 --- [http-nio-8990-exec-9] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session EDE228C0BD4DF8F24DBCDED2D8CA6EB4
2022-07-25 14:55:19.189 DEBUG 13320 --- [http-nio-8990-exec-9] d.a.c.CustomAuthorizationRequestResolver : setScopes; scopes: [openid, email]
2022-07-25 14:55:19.189 DEBUG 13320 --- [http-nio-8990-exec-9] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:55:19.189 DEBUG 13320 --- [http-nio-8990-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2022-07-25 14:55:19.189 DEBUG 13320 --- [http-nio-8990-exec-9] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:55:19.190 DEBUG 13320 --- [http-nio-8990-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:55:19.255 DEBUG 13320 --- [http-nio-8990-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /demo/write
2022-07-25 14:55:19.255 DEBUG 13320 --- [http-nio-8990-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:55:19.255 DEBUG 13320 --- [http-nio-8990-exec-10] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@450f9530
2022-07-25 14:55:19.256 DEBUG 13320 --- [http-nio-8990-exec-10] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:55:19.256 DEBUG 13320 --- [http-nio-8990-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2022-07-25 14:55:19.256 DEBUG 13320 --- [http-nio-8990-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /demo/write] with attributes [hasAuthority('SCOPE_email')]
2022-07-25 14:55:19.257 DEBUG 13320 --- [http-nio-8990-exec-10] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://test-server:8990/demo/write to session
2022-07-25 14:55:19.257 DEBUG 13320 --- [http-nio-8990-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://test-server:8990/oauth2/authorization/demo-app-oidc
2022-07-25 14:55:19.257 DEBUG 13320 --- [http-nio-8990-exec-10] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:55:19.257 DEBUG 13320 --- [http-nio-8990-exec-10] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:55:19.257 DEBUG 13320 --- [http-nio-8990-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:55:19.263 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/demo-app-oidc
2022-07-25 14:55:19.263 DEBUG 13320 --- [http-nio-8990-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:55:19.263 DEBUG 13320 --- [http-nio-8990-exec-1] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@6676f557
2022-07-25 14:55:19.264 DEBUG 13320 --- [http-nio-8990-exec-1] d.a.c.CustomAuthorizationRequestResolver : resolve1; scopes: [openid, email]
2022-07-25 14:55:19.264 DEBUG 13320 --- [http-nio-8990-exec-1] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest@73ce6de7
2022-07-25 14:55:19.264 DEBUG 13320 --- [http-nio-8990-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/auth?response_type=code&client_id=demo-app&scope=openid%20email&state=tdacyAqFM2lWOjC10tTl4-_UdNu5OGRr-7wGmzmCVRU%3D&redirect_uri=http://test-server:8990/login/oauth2/code/demo-app-oidc&nonce=vIP-cpHU7wjtN7EH-pivccCh6KJFFs-3Gq4-WNfAk_I
2022-07-25 14:55:19.264 DEBUG 13320 --- [http-nio-8990-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:55:19.264 DEBUG 13320 --- [http-nio-8990-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2022-07-25 14:55:19.264 DEBUG 13320 --- [http-nio-8990-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:55:21.778 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/demo-app-oidc?state=tdacyAqFM2lWOjC10tTl4-_UdNu5OGRr-7wGmzmCVRU%3D&session_state=05773816-91c6-4f78-bfb4-1e8feceafa7d&code=7a83f62c-1c5e-4e4d-b4b6-f3f7aebee197.05773816-91c6-4f78-bfb4-1e8feceafa7d.52c9c697-c860-4edd-bde4-5e03904fdb44
2022-07-25 14:55:21.778 DEBUG 13320 --- [http-nio-8990-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2022-07-25 14:55:21.778 DEBUG 13320 --- [http-nio-8990-exec-2] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@f6eb453
2022-07-25 14:55:21.778 DEBUG 13320 --- [http-nio-8990-exec-2] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:55:21.778 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.web.client.RestTemplate              : HTTP POST https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/token
2022-07-25 14:55:21.779 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2022-07-25 14:55:21.779 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.web.client.RestTemplate              : Writing [{grant_type=[authorization_code], code=[7a83f62c-1c5e-4e4d-b4b6-f3f7aebee197.05773816-91c6-4f78-bfb4-1e8feceafa7d.52c9c697-c860-4edd-bde4-5e03904fdb44], redirect_uri=[http://test-server:8990/login/oauth2/code/demo-app-oidc]}] as "application/x-www-form-urlencoded;charset=UTF-8"
2022-07-25 14:55:21.952 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.web.client.RestTemplate              : Response 200 OK
2022-07-25 14:55:21.952 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.web.client.RestTemplate              : Reading to [org.springframework.security.oauth2.core.endpoint.OAuth2AccessTokenResponse] as "application/json"
2022-07-25 14:55:21.954 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.web.client.RestTemplate              : HTTP GET https://key-server.gxfs.dev/realms/gaia-x/protocol/openid-connect/userinfo
2022-07-25 14:55:21.954 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2022-07-25 14:55:22.008 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.web.client.RestTemplate              : Response 200 OK
2022-07-25 14:55:22.008 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.web.client.RestTemplate              : Reading to [java.util.Map<java.lang.String, java.lang.Object>]
2022-07-25 14:55:22.009 DEBUG 13320 --- [http-nio-8990-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3E4497FAE0CE61B19920A8116F2E1075
2022-07-25 14:55:22.009 DEBUG 13320 --- [http-nio-8990-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_email, SCOPE_openid]], User Attributes: [{at_hash=rVhovVwVXoAMh5pK-hV2BA, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, email_verified=true, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=vIP-cpHU7wjtN7EH-pivccCh6KJFFs-3Gq4-WNfAk_I, sid=05773816-91c6-4f78-bfb4-1e8feceafa7d, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:55:21Z, exp=2022-07-25T13:00:21Z, session_state=05773816-91c6-4f78-bfb4-1e8feceafa7d, iat=2022-07-25T12:55:21Z, email=79788d47-59e6-4f69-a694-d6562743806f@oidc.ssi, jti=7ece1bc2-722e-49d1-855f-3a14ad977c12}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3E4497FAE0CE61B19920A8116F2E1075], Granted Authorities=[ROLE_USER, SCOPE_email, SCOPE_openid]]
2022-07-25 14:55:22.009 DEBUG 13320 --- [http-nio-8990-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://test-server:8990/demo/write
2022-07-25 14:55:22.009 DEBUG 13320 --- [http-nio-8990-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_email, SCOPE_openid]], User Attributes: [{at_hash=rVhovVwVXoAMh5pK-hV2BA, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, email_verified=true, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=vIP-cpHU7wjtN7EH-pivccCh6KJFFs-3Gq4-WNfAk_I, sid=05773816-91c6-4f78-bfb4-1e8feceafa7d, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:55:21Z, exp=2022-07-25T13:00:21Z, session_state=05773816-91c6-4f78-bfb4-1e8feceafa7d, iat=2022-07-25T12:55:21Z, email=79788d47-59e6-4f69-a694-d6562743806f@oidc.ssi, jti=7ece1bc2-722e-49d1-855f-3a14ad977c12}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3E4497FAE0CE61B19920A8116F2E1075], Granted Authorities=[ROLE_USER, SCOPE_email, SCOPE_openid]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@4a700567]
2022-07-25 14:55:22.012 DEBUG 13320 --- [http-nio-8990-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_email, SCOPE_openid]], User Attributes: [{at_hash=rVhovVwVXoAMh5pK-hV2BA, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, email_verified=true, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=vIP-cpHU7wjtN7EH-pivccCh6KJFFs-3Gq4-WNfAk_I, sid=05773816-91c6-4f78-bfb4-1e8feceafa7d, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:55:21Z, exp=2022-07-25T13:00:21Z, session_state=05773816-91c6-4f78-bfb4-1e8feceafa7d, iat=2022-07-25T12:55:21Z, email=79788d47-59e6-4f69-a694-d6562743806f@oidc.ssi, jti=7ece1bc2-722e-49d1-855f-3a14ad977c12}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3E4497FAE0CE61B19920A8116F2E1075], Granted Authorities=[ROLE_USER, SCOPE_email, SCOPE_openid]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@4a700567]
2022-07-25 14:55:22.012 DEBUG 13320 --- [http-nio-8990-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2022-07-25 14:55:22.021 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /demo/write
2022-07-25 14:55:22.021 DEBUG 13320 --- [http-nio-8990-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_email, SCOPE_openid]], User Attributes: [{at_hash=rVhovVwVXoAMh5pK-hV2BA, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, email_verified=true, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=vIP-cpHU7wjtN7EH-pivccCh6KJFFs-3Gq4-WNfAk_I, sid=05773816-91c6-4f78-bfb4-1e8feceafa7d, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:55:21Z, exp=2022-07-25T13:00:21Z, session_state=05773816-91c6-4f78-bfb4-1e8feceafa7d, iat=2022-07-25T12:55:21Z, email=79788d47-59e6-4f69-a694-d6562743806f@oidc.ssi, jti=7ece1bc2-722e-49d1-855f-3a14ad977c12}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3E4497FAE0CE61B19920A8116F2E1075], Granted Authorities=[ROLE_USER, SCOPE_email, SCOPE_openid]]]
2022-07-25 14:55:22.022 DEBUG 13320 --- [http-nio-8990-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [34a29958-72b0-411d-a4f0-8a17d4f9b388], Granted Authorities: [[ROLE_USER, SCOPE_email, SCOPE_openid]], User Attributes: [{at_hash=rVhovVwVXoAMh5pK-hV2BA, sub=34a29958-72b0-411d-a4f0-8a17d4f9b388, email_verified=true, iss=https://key-server.gxfs.dev/realms/gaia-x, typ=ID, nonce=vIP-cpHU7wjtN7EH-pivccCh6KJFFs-3Gq4-WNfAk_I, sid=05773816-91c6-4f78-bfb4-1e8feceafa7d, aud=[demo-app], acr=1, azp=demo-app, auth_time=2022-07-25T12:55:21Z, exp=2022-07-25T13:00:21Z, session_state=05773816-91c6-4f78-bfb4-1e8feceafa7d, iat=2022-07-25T12:55:21Z, email=79788d47-59e6-4f69-a694-d6562743806f@oidc.ssi, jti=7ece1bc2-722e-49d1-855f-3a14ad977c12}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3E4497FAE0CE61B19920A8116F2E1075], Granted Authorities=[ROLE_USER, SCOPE_email, SCOPE_openid]]]
2022-07-25 14:55:22.022 DEBUG 13320 --- [http-nio-8990-exec-3] d.a.c.CustomAuthorizationRequestResolver : resolve1.enter; request: org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@3ca93eff
2022-07-25 14:55:22.022 DEBUG 13320 --- [http-nio-8990-exec-3] d.a.c.CustomAuthorizationRequestResolver : resolve1.exit; returning: null
2022-07-25 14:55:22.022 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://test-server:8990/demo/write
2022-07-25 14:55:22.023 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /demo/write] with attributes [hasAuthority('SCOPE_email')]
2022-07-25 14:55:22.023 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /demo/write
2022-07-25 14:55:22.023 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/demo/write", parameters={}
2022-07-25 14:55:22.023 DEBUG 13320 --- [http-nio-8990-exec-3] d.a.c.CustomAuthorizationRequestResolver : setScopes; scopes: [openid]
2022-07-25 14:55:22.024 DEBUG 13320 --- [http-nio-8990-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2022-07-25 14:55:22.024 DEBUG 13320 --- [http-nio-8990-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
